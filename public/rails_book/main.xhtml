<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
    <!ENTITY icon_caution "data:image/png;base64,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">
    <!ENTITY icon_tip "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAyOSURBVGiB1ZlrkB3Fdcf/5/Q87r1z7z7uvrSrXa3QC7EIyUFCSWwnJIANFiGJXdQSICRllGDni4LjqviDnQ+ufHEKx2BXygg9cEwVriBcMsZOHFlEWCo/glFhrAeSxe6ifWnvPu7evc+Z6Z6ezoe7S7aUQO1qF5N01anpmaqZ/v/6nNMzfYaMMfj/3Pj9FrDSZq3Wg4iIPvnIX+8G2fcS2R+BiTtMHGUBgNiaBfGkMeo4jPr2Nw589edmlVxPq/Gchx/5m1uJnWdT6aZMz+ZdXsfaXuF5KXipBAQDoQwR+D5yV0b14BuvVstz+bKJ5YNPH/jKyfcVYO/ez2ViQV9zk8l7b761P93a1oF8SWKm7KMaSgRSARQj5QpkkjZ6Wj30tnuYmp7F8RefrVbL1edZm32HD/9D+dcOsPeRz3wMZD/TtemW9I07b01MFBRGpipoyhAa04yGlECjJ5BwGLUwQiVQmJ4LMFUM0NfTgh3rszh58sfh+dOnyjDqzw4fePwHvzaAhz/92ftsJ3V4+4fv87zGdlwar8JLxtix0UM2YwEwMCYGMcWAMXE8f8kASsf4xeCMqYWab9veI6rlCr773D/XfL/08NP7//G59xzgk488eguR+/KuO//CC+IU8mWJD2xKYG2rM69Sg5g0DAwRYgMYoJ6yxhgYA4SRxqlzkzqUWuza3OG0p23+5pNPVI0Jf/8bB554dTl6lrWM7tu3zyVyv7d+58c9djLIFUL83o4M1rY6MEYDiGMmigiImBAxEDGRYpASzFIwSyZSjhDRTb3N2rbYf21wqmY7Tvw7d9+XInK+t2/fPvc9AygH9qNeS29mXe8GDOVq+OCNHlIJQhxrACYGjAYjYkAzkyImxYSImRUBigiKmSQTVFtjQids4duC/RNnRyu/u/MG07FuU6Yc2I++JwD9/V90mPgLfbfcmRqe8nF9t4uWRgs6jmBgYiJEND/7xKQIpJigBJEkMkrMe4JBipmkxayyDa50LAp0ZPyTb4zXHry/PyHY+kJ//xedVQfwGoq3NbX3xkakUKgodLfai2YeGoCuhw7Vw4ahBLGszzhLYpJCsGRBUjBLIUimXVs5tvBti/3R6XJZG9ab+7YZr6F426oDsO0+0LZuW2auGsFLxnAcQMcRANJEiJhYEUERkySGYqqHEJFRgiGZIJkQMkEKppAJUkZxxWEObIsD2+Lwrcmi/4GbdyXZth9YdQADfKi5pYuKVYmWRp6ffWgg1kSIQCYipohBiogWYl0K5lAwSUuQZKK6eCYZxybQ2lRsWwS2zaEtOBjLV8qb1/cQAR9cqq4lfwuR1m1uIoUwKkOQQGxiI5g0EUcEiogQzcd9RIBiQgQiTfXQqr8JBIwxBJiYQqVDx6aAYjIUsQGAmlTsJV0ycdy2VF1L8kB/f78gMp5hG0CE2WoNhLpwABEIEYEVs1FEJAWRIiJpEYUWc8jMoRAc2IICixGaGP5sReZsmwNHiMAWHNjMoS04jA1iwZTu7+8XqwZw5MgRHRsTCY5AHKEShFrHWhNBA0bDIALqHqgvlyQFkWRBITOFFiMgQkigEKBgphiMAKbqChHYdj3+LebQEiK0BCOOY33kyBG9agAAQGQVfL+KpEtgoujyVCUEEDEoYmYl3k5cSCEoZIGQASnIhIIptJgCFuSXamokMig4lvBtiwNbcGBZFNoWhdm0wxU/jEBcXKqupe8HmC+WSzMd6WQGJR9qYtb3u1o8ZDOuJsQRIBQR1VccQNbXf1JMFIGgZaQLs2U5o1SsHYutiIwmig3AgDYcW0a0N3n2bLEUgnh8ybKWDBAF3yrnBmtNKUcL4kgIigaulEpXZqolP4z9G9c1re9tTXWnHJEAQRJRoGNTVHGcmyvLC8WSHEQcV9akwts3NslPuRYHjuDQEhQKi6UlWGbTicTY6KihWL2w6gDKEi9Mjf4qziaNSbpWLIgiY4ycLgbFoVxpohqqCgkRrW3xNq/NJn/DFXGTDe0ZFTa5HHa3efrDG9qsvWtas31uwpu1hAhsiwNLCGkJlgnbitZmvc4zp19ho6NvrzrAM08+NqXC4DMXXv1RsLWzWRCTZqZICERCIHprovymiuLayTMT3xzP106lHCvdmLG3dDQld63Jenc0pJPX+YE8z0IMGTt53LI4FBZJS0BagmVfT8vWgYFBNTw6+tyhQ189t1Rdy9oTH3rqy4f2fvpv7990/cju69q7nemSr5k5YuJoPF+7srGzoSvtuTxZlueKfvRz1xK+Y1MgiBUxdCKZabFd975CoXzOYbKMERwLspqSdk9z0tnwT//yrYqR+OxyNC27KqHI3P+Tl/99LhEVM+taMykGacGkY4OgUAlGshm30WFSQpC0bAotQYHlkG8Ly29IJZuVil+3iSqWTaHFpFoyybbetoY79z+1P/arlQeXu71cNsAzTz42pf3ybx974Xk/EVfbmtNugpk0Mel8RY3ZZFLMpGzByiaWjuDQsThIuuzHMsjIOD4rLAotwdKxLNPZ6N375P798fDl0T89fOArLy1XzzXVhQ4e/NpYFNRu/8mJY4muZq9FEDQT6WIlmC3MzrgUKVcQKWGRFMSha7EfVqtObvKKkKEcFcRSCFYtDcntA0OD/uWRkS89ffCx716LlmsubB08+PiF3MTEf2q/mBVCMBEMk1D5QqkwV8hliVhbhMh2WDmCw6HBX7UX8rMjlu34FkGxYe0w73jp+Esp24ivX6uOFVXmlAyfGR8doUbPTVP9O81EhmeGBy+1MyM24FgwtBCWOnfm9U4IGnSEUUKwZmFiBrpzE7lzTz31pSW/ea9uK6rMCYhTA5cuJbfuuLljYLw0JaszbYh8PXz54gbvZ9V7PC+yTRxWpqcKswMD422t7cmhwC+ku9dv9710U28gQxOE/rI28asKcOjQl4f/8q8+NzQ5ermjwTaNuZk32i2KUglX0dTUOPr6NsC2ErgyNon16zNIuDN/ODY2PjYydun0H+z51Ieeff5IYCJ97H0DAIBYqo9/5/nnzv753ofaUj3brOn8KLq6Q0xOXIFtJ2FbgON42LxlM7q62oUxTm8qtaX3/PkzpXPnz506dOjxf13J+KtSG+3/k4/8sr1j1/aPfuyjuOH6LSiWp6CjKrSuQVCIVDKNZKoJqWQWrtuC4y8dMz/84alAgK47ePCJyfcVYM+ezRu71mYH7rijD2fPr4FlZ7F79060tWXR3NwML+XB9yuYmysgN5HDf5z4GfzaKMZHX/u3F1/85d0rGhyrEEKJhDVXLgVBpILEA/e3Y67YjMGhi3j9F3PIz1RQrkg0NrpoyDCaGgxu2FxDaU5hfFQtufLwngIcPXohf889N/x4eKR6x+7fymL7tl246aYCAIMwlNCRRLVaRbEwi8JsHoMDs3hrOAdj8PIq6F/5H5q77urrbG3N3L5jexatLduRSd8I11kDISy4jg1mBhFBKo3Lw9MoVwKEUgIws6ugf+UeSKWMDEMZVavSzs++DsdNAjQHIgOpIszMzCGfz6NcKqOnO4tUAjBxLyYnZ/54NQBW7IGjRy/kS6XwRxcvFmFiAZgYWkfQWsMYg+bmDLq62rGmoxlCCFRrIaam52AMzv+fAPjEJza1Z1vSt+3c2Y7W1puQ9vqQcP87hIQQICJEWmN8fBbGMNZ1t8N27Fv27NncvdLxVxxCUiY41pqCQOLqENKxwVyhjOnpPCqVKnrWtSE/ncfgTB5kjC4WQ0NENuq1VXMtP/6uCYCIeP5eBlC+664tf3/06MXPT+Rsa+PGMazp7EIy5aFSriKfL2Bqchpzc3OolMoYHcvhypWcqtXk53/601EfgId65U4TkZ7vR8aYeElalgNNRGJe+OKjACB27Oja1NqaujuZbLjb89Lbk0kL5fIc4ljDcTyEYQSl1PlKpfDi5cul7w8Pz+YAKMxXtq+yaOFo6n9OVg5ARNa86MUAC30HgAsgsWvXrt/cunXrEw899FDSdV0UCgUMDQ3hlVdeCS5evPh3Z86ceW1eeDhvwfxRLhIfLe4bY6J30rWkJJ4PmXcyaxGAe/r06Yu+74+dOHFCTU5OIp/P480334zCMMydOXNmDEAGQApAYuGe+futdxqDiOgdta22BwC4nZ2dXdu2bfujlpaWe4wxNDMz84OzZ88em5qamkZ9ppfjAflu+bDcHGAANv6XHFhk9iI4CwDNm5m3aJG9Ww4o1MPnXQVe09fovEsXBC+AXO16LBK/0BYggPpqs9jeBlvqCnTNAP/jIXWgBeNF/YXzBfHxIoC3z5cj+Or2X3r9Ye2F1izgAAAAAElFTkSuQmCC">
    <!ENTITY icon_important "data:image/png;base64,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">
    <!ENTITY icon_warning "data:image/png;base64,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">
    <!ENTITY icon_quote "data:image/png;base64,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">
    <!ENTITY icon_note "data:image/png;base64,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">
    <!ENTITY icon_link "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAFVBMVEVmmcwzmcyZzP8AZswAZv////////9E6giVAAAAB3RSTlP///////8AGksDRgAAADhJREFUGFcly0ESAEAEA0Ei6/9P3sEcVB8kmrwFyni0bOeyyDpy9JTLEaOhQq7Ongf5FeMhHS/4AVnsAZubxDVmAAAAAElFTkSuQmCC">
]>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="generator" content="ERBook 6.0.1"/>

      <title>Run on rails</title>

      <meta name="author" content="fhopecc"/>

      <meta name="date" content="19 March 2009"/>

        <link rel="alternate" type="application/rss+xml" href="feeds.xml"/>

        <style type="text/css" media="all">
        <![CDATA[/* general */
  body
  {
      color             : #000000;
      background-color  : #FFFFFF;
      line-height       : 1.5em;
      font-family       : Calibri, Verdana, sans-serif;
  }

/* emphasis */
  blockquote
  {
      color             : #333;
      font-style        : italic;
  }

  em
  {
      font-family       : Constantia, "Book Antiqua", "URW Bookman L", serif;
      font-size         : 105%;
  }

  hr
  {
      height            : 0;
      border            : 0;
      border-top        : 2px solid #FF0000;
  }

/* source code */
  tt,
  code,
  pre
  {
      font-family       : Monaco, Consolas, "Lucida Console", monospace;
      font-size         : 100%; /* appears like "size: small" otherwise */
  }

/* hyperlinks */
  a > img
  {
      border            : none;
  }

  a img
  {
      _border           : none; /* for IE6 */
  }

/* headings */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  .title
  {
      font-weight       : lighter;
      font-family       : Constantia, "Book Antiqua", "URW Bookman L", serif;
  }

  #lof h1,
  #lof h2,
  #lof h3,
  #lof h4,
  #lof h5,
  #lof h6
  {
      margin-top        : 1.25em;
  }

  #content h1,
  #content h2,
  #content h3,
  #content h4,
  #content h5,
  #content h6
  {
      margin-top        : 2.5em;
      line-height       : 1.25em;
  }

  #content h1
  {
      font-size         : 2.0em;
  }

  #content h2
  {
      font-size         : 1.8em;
  }

  #content h3
  {
      font-size         : 1.6em;
  }

  #content h4
  {
      font-size         : 1.4em;
  }

  #content h5
  {
      font-size         : 1.2em;
  }

  #content h6
  {
      font-size         : 1.0em;
  }

/* tables */
  table
  {
      border-collapse   : collapse; /* no spacing between cell borders */
      margin            : auto; /* center horizontally */
      margin-top        : 1em;
  }

  th,
  td
  {
      padding           : 1em;
      border            : 1px solid #bbb;
      vertical-align    : top;
      background-color  : #FFFFFF;
      _background-color : #FFFFFF; /* for IE6 */
  }

  th
  {
      background-color  : #F5F5F5;
  }

/* document structure */
  #header
  {
      text-align        : center;
  }

  .logo,
  .header_outside_above,
  #header,
  .header_outside_below
  {
      margin-bottom     : 5em;
  }

  .footer_outside_above,
  #footer,
  .footer_outside_below
  {
      margin-top        : 5em;
  }

  #header .header_inside_above,
  #footer .footer_inside_above
  {
      margin-bottom     : 4em;
  }

  #header .header_inside_below,
  #footer .footer_inside_below
  {
      margin-top        : 4em;
  }

  #Abstract
  {
      margin-bottom     : 5em;
  }

  #toc li
  {
      list-style-type   : none;
  }

  #toc li ul
  {
      padding-bottom    : 1em;
      border-left       : thick solid #F5F5F5;
      _border-left      : none; /* for IE6 */
  }

  #toc li ul:hover
  {
      border-color      : #DCDCDC;
  }

  #toc > ul
  {
      padding-left      : 1em;
  }

  #bib
  {
      margin-top        : 5em;
  }

  #footer
  {
      border-top        : thick dotted #DCDCDC;
      padding-top       : 1em;
      text-align        : center;
  }

  #footer-credits
  {
      margin-top        : 2em;
      margin-bottom     : 2em;
  }

/* document nodes */
  .part    > .title,
  .chapter > .title
  {
      padding-bottom    : 0.5em;
  }

  .part    > .title > big,
  .chapter > .title > big
  {
      display           : block;
      margin-top        : 0.25em;
  }

  .part    .title big,
  .chapter .title big
  {
      _display          : block; /* for IE6 */
      _margin-top       : 0.25em; /* for IE6 */
      _margin-bottom    : 0.75em; /* for IE6 */
  }

  .paragraph > .title,
  .tip       > .title,
  .note      > .title,
  .caution   > .title,
  .warning   > .title,
  .important > .title,
  .figure    > .title,
  .table     > .title,
  .example   > .title,
  .equation  > .title,
  .procedure > .title
  {
      font-size         : large;
      margin-top        : 2em;
  }

  .paragraph .title,
  .tip       .title,
  .note      .title,
  .caution   .title,
  .warning   .title,
  .important .title,
  .figure    .title,
  .table     .title,
  .example   .title,
  .equation  .title,
  .procedure .title
  {
      _font-size        : large; /* for IE6 */
      _font-weight      : bold; /* large is not bold in IE6 */
      _margin-top       : 2em; /* for IE6 */
  }

  .tip      ,
  .note     ,
  .caution  ,
  .warning  ,
  .important,
  .figure   ,
  .table    ,
  .example  ,
  .equation ,
  .procedure
  {
      margin            : 3em;
  }

  .tip       .nav,
  .note      .nav,
  .caution   .nav,
  .warning   .nav,
  .important .nav,
  .figure    .nav,
  .table     .nav,
  .example   .nav,
  .equation  .nav,
  .procedure .nav
  {
      margin-left       : -7.65em;
  }

  .tip       > .content,
  .note      > .content,
  .caution   > .content,
  .warning   > .content,
  .important > .content,
  .figure    > .content,
  .table     > .content,
  .example   > .content,
  .equation  > .content,
  .procedure > .content
  {
      min-height        : 48px; /* 48px is height of icon */
  }

  .tip       > .content > .icon,
  .note      > .content > .icon,
  .caution   > .content > .icon,
  .warning   > .content > .icon,
  .important > .content > .icon
  {
      float             : left;
      margin            : 0 1em 1em 0; /* top right bottom left */
  }

  .tip       .content .icon,
  .note      .content .icon,
  .caution   .content .icon,
  .warning   .content .icon,
  .important .content .icon
  {
      _display          : none; /* IE6 cannot display embedded images */
  }

  .figure > .title
  {
      text-align        : center;
  }

  .figure .title
  {
      _text-align       : center; /* for IE6 */
  }

  .figure > .content img
  {
      display           : block;
      margin            : auto;
  }

  .figure .content img
  {
      _display          : block; /* for IE6 */
      _margin           : auto; /* for IE6 */
  }
]]>
        </style>
        <style type="text/css" media="screen">
        <![CDATA[/* general */
  body
  {
      margin            : 0;
      padding           : 0;
      padding-left      : 10em; /* room for local navigation menus */
      padding-right     : 10em; /* keep #body visually centered */
      background-color  : #808080;
  }

  /* the actual content of the <body> element */
  #body
  {
      margin            : auto;
      max-width         : 38em;

      background-color  : #FFFFFF;
      border-left       : 0.35em solid #696969;
      border-right      : 0.35em solid #696969;
      padding           : 2em;
  }

/* source code */
  tt
  {
      background-color  : #F0F8FF;
  }

  pre
  {
      cursor            : text;
      line-height       : normal;
      border            : 1px solid #b1d827;
      background-color  : #F5FFDF;
      padding           : 1em;

      /* fit container to content; no overflow! */
      display           : inline-block;
      margin            : 0;
      min-width         : 92.5%;
  }

  /* output of the syntax coloring library */
  pre.code
  {
      background-color  : #FFFFE8;
      border-color      : #EEDD88;
  }

/* hyperlinks */
  a
  {
      text-decoration   : none;
  }

  a:hover
  {
      text-decoration   : underline;
  }

  a:link
  {
      color             : #0038E1; /* maximum saturation of RoyalBlue */
  }

  a:visited
  {
      color             : #800080;
  }

  #toc a:target:after,
  #lof a:target:after,
  #nav a:target:after
  {
      content           : "★"; /* &#x2605; */
      color             : #FF0000;
      font-size         : x-large;
      padding-left      : 0.125em;
  }

/* document structure */
  /* mini navigation menu beside every block node */
  .nav
  {
      width             : 4em;
      float             : left; /* detach from main content */
      margin-left       : -6.075em;

      font-size         : 1.9em;
      letter-spacing    : 0.25em;
      text-align        : center;

      color             : #696969; /* same colors to hide non-links */
      background-color  : #696969;
      padding           : 0.5em;
      margin-top        : -0.5em;
  }

  .nav:target,
  .nav:hover
  {
      color             : #333; /* same colors to hide non-links */
      background-color  : #333;
  }

  .nav a:link,
  .nav a:visited
  {
      color             : #D3D3D3;
  }

  .nav a:hover,
  #nav a:target:after {
      color             : #9ACD32;
      text-decoration   : none;
  }

  /* global navigation menu at the top of the page */
  #nav
  {
      font-size         : 1em;
      letter-spacing    : 0;
      width             : 8.5em;
      margin-left       : -11.5em;
  }

  #nav li
  {
      list-style-type   : none;
  }
]]>
        </style>
        <style type="text/css" media="print">
        <![CDATA[/* source code */
  tt
  {
      font-weight       : normal;
  }

  pre
  {
      border            : none;
  }

/* headings */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6
  {
      font-weight       : normal;
      clear             : both;
  }

/* hyperlinks */
  /* blend all hyperlinks with normal text */
  a:link,
  a:visited
  {
      color             : #000000;
      text-decoration   : none;
  }

  /* emphasize external and cross-reference hyperlinks */
  a[href]:not([href^="#"]):link,
  a[href]:not([href^="#"]):visited,
  a.xref[title]:link,
  a.xref[title]:visited
  {
      color             : #0000FF;
      text-decoration   : underline;
      font-weight       : bolder;
  }

  /* show URL of destination for external hyperlinks */
  a[href]:not([href^="#"]):after
  {
      content           : " " attr(href);
      font-family       : Monaco, Consolas, "Lucida Console", monospace;
  }

  /* show name of destination for cross-references */
  a.xref[title]:after
  {
      content           : " " attr(title);
  }

  a:after
  {
      font-weight       : normal;
      font-size         : smaller;
  }

/* document structure */
  #nav,
  .nav,
  #lof
  {
      display           : none;
  }

  #toc,
  .part,
  .chapter,
  #bib
  {
      page-break-before : always;
  }

/* document nodes */
  .part    > .title > big,
  .chapter > .title > big
  {
      padding-bottom    : 0.5em;
  }

  .part    .title big,
  .chapter .title big
  {
      _padding-bottom   : 0.5em; /* for IE6 */
  }
]]>
        </style>

    <style type="text/css" media="screen">
    <![CDATA[
      /* decorate external hyperlinks with a visual indicator */
      a[href]:not([href^="#"])
      {
          background          : url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAFVBMVEVmmcwzmcyZzP8AZswAZv////////9E6giVAAAAB3RSTlP///////8AGksDRgAAADhJREFUGFcly0ESAEAEA0Ei6/9P3sEcVB8kmrwFyni0bOeyyDpy9JTLEaOhQq7Ongf5FeMhHS/4AVnsAZubxDVmAAAAAElFTkSuQmCC");
          background-position : center right;
          background-repeat   : no-repeat;
          padding-right       : 13px;
      }

      /* display icon for blockquote elements */
      blockquote
      {
          background-image    : url("data:image/png;base64,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");
          background-repeat   : no-repeat;
          margin-left         : 0;
          padding-left        : 65px;
          min-height          : 50px;
      }
    ]]>
    </style>
  </head>
  <body>
  <div id="body">
    <ul id="nav" class="nav">
        <li><a id="rev:Contents" href="#Contents">Contents</a></li>
        <li><a id="rev:Codes" href="#Codes">Codes</a></li>
        <li><a id="rev:Figures" href="#Figures">Figures</a></li>
        <li><a id="rev:Tables" href="#Tables">Tables</a></li>
    </ul>

    <br style="display: none"/>
    <hr style="display: none"/>
    <br style="display: none"/>

    
    <div id="header">
    

        <h1 class="title">Run on rails</h1>

        <h2 class="subtitle">輕鬆搭上 Rails 2.0 火車</h2>

        <h3 class="authors"><a href="http://fhopecc.blogspot.com">fhopecc</a></h3>

        <h3 class="date">19 March 2009</h3>
    
    </div>
    

    

    <br style="display: none"/>
    <hr style="display: none"/>
    <br style="display: none"/>

      <div id="toc">
        <a name="Contents"/><div class="nav" id="Contents"><a title="Reverse jump to listing" href="#rev:Contents">&equiv;</a>&#x25B3;&#x25BD;<a title="Jump to this segment" href="#Contents">&#x25CE;</a></div>
        <h1 class="title">Contents</h1>
        <ul>
          <li>1&nbsp;&nbsp;<a id="rev:a前言" href="#a前言">前言</a><ul><li><a id="rev:a24069360" href="#a24069360"></a></li><li><a id="rev:a24059310" href="#a24059310"></a></li><li><a id="rev:a24055140" href="#a24055140"></a></li><li><a id="rev:a24048000" href="#a24048000"></a></li><li><a id="rev:a24035090" href="#a24035090"></a></li><li><a id="rev:a24018030" href="#a24018030"></a></li><li><a id="rev:a24004090" href="#a24004090"></a></li></ul></li><li>2&nbsp;&nbsp;<a id="rev:a範例網站簡介" href="#a範例網站簡介">範例網站簡介</a><ul><li><a id="rev:a23976680" href="#a23976680"></a></li><li><a id="rev:a23965760" href="#a23965760"></a></li><li><a id="rev:a23960340" href="#a23960340"></a></li><li><a id="rev:a23952890" href="#a23952890"></a></li><li>2.1&nbsp;&nbsp;<a id="rev:a記帳原則" href="#a記帳原則">記帳原則</a><ul><li><a id="rev:a23935340" href="#a23935340"></a></li><li>2.1.1&nbsp;&nbsp;<a id="rev:a結算期" href="#a結算期">結算期</a><ul><li><a id="rev:a23916940" href="#a23916940"></a></li></ul></li><li>2.1.2&nbsp;&nbsp;<a id="rev:a記信用卡帳" href="#a記信用卡帳">記信用卡帳</a><ul><li><a id="rev:a23903330" href="#a23903330"></a></li></ul></li><li>2.1.3&nbsp;&nbsp;<a id="rev:a固定年繳攤成每月家用" href="#a固定年繳攤成每月家用">固定年繳攤成每月家用</a><ul><li><a id="rev:a23884480" href="#a23884480"></a></li></ul></li><li>2.1.4&nbsp;&nbsp;<a id="rev:a額外支出" href="#a額外支出">額外支出</a><ul><li><a id="rev:a23870970" href="#a23870970"></a></li><li><a id="rev:a23860970" href="#a23860970"></a></li></ul></li></ul></li><li>2.2&nbsp;&nbsp;<a id="rev:a我的記帳本網站" href="#a我的記帳本網站">我的記帳本網站</a><ul><li>2.2.1&nbsp;&nbsp;<a id="rev:a如何申請新帳本？" href="#a如何申請新帳本？">如何申請新帳本？</a><ul><li><a id="rev:a23842140" href="#a23842140"></a></li></ul></li><li>2.2.2&nbsp;&nbsp;<a id="rev:a如何記帳？" href="#a如何記帳？">如何記帳？</a><ul><li><a id="rev:a23817680" href="#a23817680"></a></li><li><a id="rev:a23784470" href="#a23784470"></a></li><li><a id="rev:a23773530" href="#a23773530"></a></li><li><a id="rev:a23762510" href="#a23762510"></a></li><li><a id="rev:a23739700" href="#a23739700"></a></li></ul></li><li>2.2.3&nbsp;&nbsp;<a id="rev:a用「科目樹」來組織「科目」？" href="#a用「科目樹」來組織「科目」？">用「科目樹」來組織「科目」？</a><ul><li><a id="rev:a28499640" href="#a28499640"></a></li><li><a id="rev:a28495530" href="#a28495530"></a></li></ul></li><li>2.2.4&nbsp;&nbsp;<a id="rev:a「科目樹」的操作？" href="#a「科目樹」的操作？">「科目樹」的操作？</a><ul><li><a id="rev:a28485260" href="#a28485260"></a></li><li><a id="rev:a28477650" href="#a28477650"></a></li><li><a id="rev:a28471700" href="#a28471700"></a></li><li><a id="rev:a28468350" href="#a28468350"></a></li><li><a id="rev:a28460450" href="#a28460450"></a></li></ul></li></ul></li></ul></li><li>3&nbsp;&nbsp;<a id="rev:a準備開發環境" href="#a準備開發環境">準備開發環境</a><ul><li>3.1&nbsp;&nbsp;<a id="rev:a安裝-Ruby" href="#a安裝-Ruby">安裝 Ruby</a><ul><li><a id="rev:a28449430" href="#a28449430"></a></li><li><a id="rev:a28441910" href="#a28441910"></a></li><li><a id="rev:a28421910" href="#a28421910"></a></li></ul></li><li>3.2&nbsp;&nbsp;<a id="rev:a安裝-Rails" href="#a安裝-Rails">安裝 Rails</a><ul><li><a id="rev:a28402430" href="#a28402430"></a></li><li><a id="rev:a28372930" href="#a28372930"></a></li></ul></li></ul></li><li>4&nbsp;&nbsp;<a id="rev:MVC" href="#MVC">MVC</a><ul><li><a id="rev:a28351270" href="#a28351270"></a></li><li><a id="rev:a28342290" href="#a28342290"></a></li><li><a id="rev:a28333200" href="#a28333200"></a></li><li><a id="rev:a28326960" href="#a28326960"></a></li><li><a id="rev:a28321430" href="#a28321430"></a></li><li><a id="rev:a28316310" href="#a28316310"></a></li><li>4.1&nbsp;&nbsp;<a id="rev:MVC-的第-1-個例子：Hello-Rails" href="#MVC-的第-1-個例子：Hello-Rails">MVC 的第 1 個例子：Hello Rails</a><ul><li><a id="rev:a28310130" href="#a28310130"></a></li><li><a id="rev:a28306150" href="#a28306150"></a></li><li><a id="rev:a28298110" href="#a28298110"></a></li><li><a id="rev:a28289420" href="#a28289420"></a></li><li><a id="rev:a28274170" href="#a28274170"></a></li><li><a id="rev:a28257160" href="#a28257160"></a></li><li><a id="rev:a28236220" href="#a28236220"></a></li><li><a id="rev:a28226640" href="#a28226640"></a></li></ul></li><li>4.2&nbsp;&nbsp;<a id="rev:MVC-第-2-個例子-計數器服務" href="#MVC-第-2-個例子-計數器服務">MVC 第 2 個例子, 計數器服務</a><ul><li><a id="rev:a28203140" href="#a28203140"></a></li><li><a id="rev:a28183080" href="#a28183080"></a></li></ul></li><li>4.3&nbsp;&nbsp;<a id="rev:MVC-第-2-個例子-流水帳" href="#MVC-第-2-個例子-流水帳">MVC 第 2 個例子, 流水帳</a><ul><li><a id="rev:a28162830" href="#a28162830"></a></li><li><a id="rev:a28143950" href="#a28143950"></a></li><li><a id="rev:a28126590" href="#a28126590"></a></li><li><a id="rev:a28110720" href="#a28110720"></a></li></ul></li></ul></li><li>5&nbsp;&nbsp;<a id="rev:restful_rails_chapter" href="#restful_rails_chapter">RESTful Rails</a><ul><li><a id="rev:a28093730" href="#a28093730"></a></li><li><a id="rev:a28084930" href="#a28084930"></a></li><li>5.1&nbsp;&nbsp;<a id="rev:resttriangle_section" href="#resttriangle_section">REST 架構三角形</a><ul><li><a id="rev:a28064010" href="#a28064010"></a></li><li><a id="rev:a28050490" href="#a28050490"></a></li><li><a id="rev:a28042260" href="#a28042260"></a></li><li><a id="rev:a28039580" href="#a28039580"></a></li><li><a id="rev:a28029100" href="#a28029100"></a></li><li><a id="rev:a28013190" href="#a28013190"></a></li><li><a id="rev:a28007690" href="#a28007690"></a></li><li><a id="rev:a27999150" href="#a27999150"></a></li><li><a id="rev:a27989810" href="#a27989810"></a></li><li><a id="rev:a27971160" href="#a27971160"></a></li></ul></li><li>5.2&nbsp;&nbsp;<a id="rev:REST-和-CRUD" href="#REST-和-CRUD">REST 和 CRUD</a><ul><li><a id="rev:a27949340" href="#a27949340"></a></li><li><a id="rev:a27941010" href="#a27941010"></a></li><li><a id="rev:a27919620" href="#a27919620"></a></li><li><a id="rev:a27909140" href="#a27909140"></a></li><li><a id="rev:a27901830" href="#a27901830"></a></li><li><a id="rev:a27883530" href="#a27883530"></a></li><li><a id="rev:a27878240" href="#a27878240"></a></li><li><a id="rev:a27872120" href="#a27872120"></a></li></ul></li><li>5.3&nbsp;&nbsp;<a id="rev:map.resource" href="#map.resource">map.resource</a><ul><li><a id="rev:a28500850" href="#a28500850"></a></li><li><a id="rev:a28487570" href="#a28487570"></a></li><li><a id="rev:a28454490" href="#a28454490"></a></li><li><a id="rev:a28443700" href="#a28443700"></a></li><li><a id="rev:a28437220" href="#a28437220"></a></li><li><a id="rev:a28430450" href="#a28430450"></a></li><li><a id="rev:a28411150" href="#a28411150"></a></li><li><a id="rev:a28380140" href="#a28380140"></a></li><li><a id="rev:a28365700" href="#a28365700"></a></li><li><a id="rev:a28345880" href="#a28345880"></a></li></ul></li><li>5.4&nbsp;&nbsp;<a id="rev:a單數資源" href="#a單數資源">單數資源</a><ul><li><a id="rev:a28320490" href="#a28320490"></a></li><li><a id="rev:a28306420" href="#a28306420"></a></li><li><a id="rev:a28290900" href="#a28290900"></a></li></ul></li><li>5.5&nbsp;&nbsp;<a id="rev:nested.resource" href="#nested.resource">巢狀資源</a><ul><li><a id="rev:a28277670" href="#a28277670"></a></li><li><a id="rev:a28251950" href="#a28251950"></a></li><li><a id="rev:a28227410" href="#a28227410"></a></li></ul></li></ul></li><li>6&nbsp;&nbsp;<a id="rev:a為程式加入基本的認證功能" href="#a為程式加入基本的認證功能">為程式加入基本的認證功能</a><ul><li><a id="rev:a28180500" href="#a28180500"></a></li><li>6.1&nbsp;&nbsp;<a id="rev:a安裝-Restful-Authentication" href="#a安裝-Restful-Authentication">安裝 Restful Authentication</a><ul><li><a id="rev:a28162610" href="#a28162610"></a></li><li><a id="rev:a28129510" href="#a28129510"></a></li><li><a id="rev:a28108450" href="#a28108450"></a></li><li><a id="rev:a28093990" href="#a28093990"></a></li><li><a id="rev:a28078310" href="#a28078310"></a></li><li><a id="rev:a28056520" href="#a28056520"></a></li></ul></li><li>6.2&nbsp;&nbsp;<a id="rev:auth" href="#auth">為程式加入認證功能</a><ul><li><a id="rev:a28032870" href="#a28032870"></a></li><li><a id="rev:a28000150" href="#a28000150"></a></li><li><a id="rev:a27979300" href="#a27979300"></a></li></ul></li><li>6.3&nbsp;&nbsp;<a id="rev:Authenticated-generator-的其它功能" href="#Authenticated-generator-的其它功能">Authenticated generator 的其它功能</a><ul><li><a id="rev:a27905930" href="#a27905930"></a></li><li><a id="rev:a27888110" href="#a27888110"></a></li></ul></li></ul></li><li>7&nbsp;&nbsp;<a id="rev:a利用-Heroku-免費架-Rails-網站" href="#a利用-Heroku-免費架-Rails-網站">利用 Heroku 免費架 Rails 網站</a><ul><li><a id="rev:a27874730" href="#a27874730"></a></li><li>7.1&nbsp;&nbsp;<a id="rev:a申請-Heroku-帳號" href="#a申請-Heroku-帳號">申請 Heroku 帳號</a><ul><li><a id="rev:a27864170" href="#a27864170"></a></li></ul></li><li>7.2&nbsp;&nbsp;<a id="rev:Heroku-的功能" href="#Heroku-的功能">Heroku 的功能</a><ul><li><a id="rev:a27857740" href="#a27857740"></a></li></ul></li><li>7.3&nbsp;&nbsp;<a id="rev:a程式的佈署" href="#a程式的佈署">程式的佈署</a><ul><li><a id="rev:a27852120" href="#a27852120"></a></li></ul></li><li>7.4&nbsp;&nbsp;<a id="rev:Heroku-Gem" href="#Heroku-Gem">Heroku Gem</a></li><li>7.5&nbsp;&nbsp;<a id="rev:a下載-log" href="#a下載-log">下載 log</a></li></ul></li>

        </ul>
      </div>

      <div id="lof"><a name="Codes"/><div class="nav" id="Codes"><a title="Reverse jump to listing" href="#rev:Codes">&equiv;</a>&#x25B3;&#x25BD;<a title="Jump to this segment" href="#Codes">&#x25CE;</a></div><h2 class="title">Codes</h2> <ol><li><a id="rev:ruby_v" href="#ruby_v">ruby -v</a></li><li><a id="rev:gem_install_rails" href="#gem_install_rails">gem install rails</a></li><li><a id="rev:rails_moneylog" href="#rails_moneylog">產出 moneylog 專案</a></li><li><a id="rev:hello_controller.rb" href="#hello_controller.rb">hello<em>controller.rb</em></a></li><li><a id="rev:rails.html.erb" href="#rails.html.erb">rails.html.erb</a></li><li><a id="rev:start_server" href="#start_server">啟動 server</a></li><li><a id="rev:counters-exmple.html" href="#counters-exmple.html">counters/exmple.html</a></li><li><a id="rev:monthly_mlogs_controller.rb" href="#monthly_mlogs_controller.rb">monthly<em>mlogs</em>controller.rb</a></li><li><a id="rev:thegiive_email_xml" href="#thegiive_email_xml">thegiive<em>email</em>xml</a></li><li><a id="rev:user-find-123" href="#user-find-123">搜尋某個使用者 123 的 URL</a></li><li><a id="rev:User.find-:all" href="#User.find-:all">User.find :all</a></li><li><a id="rev:GET-user-123" href="#GET-user-123">GET user/123</a></li><li><a id="rev:PUT-user-123" href="#PUT-user-123">PUT user/123</a></li><li><a id="rev:map.resources-:users" href="#map.resources-:users">map.resources :users</a></li><li><a id="rev:put-delete-example" href="#put-delete-example">put/delete example</a></li><li><a id="rev:MapResourceAddressBook" href="#MapResourceAddressBook">map.resource :address<em>book</em></a></li><li><a id="rev:UsersMlogsMap" href="#UsersMlogsMap">map.resources users/mlogs</a></li><li><a id="rev:command" href="#command">command</a></li><li><a id="rev:command-19" href="#command-19">command</a></li><li><a id="rev:ruby" href="#ruby">ruby</a></li><li><a id="rev:command-21" href="#command-21">command</a></li><li><a id="rev:ruby-22" href="#ruby-22">ruby</a></li><li><a id="rev:command-23" href="#command-23">command</a></li><li><a id="rev:command-24" href="#command-24">command</a></li></ol><a name="Figures"/><div class="nav" id="Figures"><a title="Reverse jump to listing" href="#rev:Figures">&equiv;</a>&#x25B3;&#x25BD;<a title="Jump to this segment" href="#Figures">&#x25CE;</a></div><h2 class="title">Figures</h2> <ol><li><a id="rev:select_modules" href="#select_modules">選擇安裝模組</a></li><li><a id="rev:ruby_v_successful" href="#ruby_v_successful">執行 ruby -v</a></li><li><a id="rev:rails_v" href="#rails_v">執行 rails -v</a></li><li><a id="rev:hello_object" href="#hello_object">Hello 的物件圖</a></li><li><a id="rev:hello_rails" href="#hello_rails">Hello Rails 畫面</a></li><li><a id="rev:rails2_mvc" href="#rails2_mvc">Rails 的 MVC 架構</a></li><li><a id="rev:resttriangle" href="#resttriangle">REST 架構三角形</a></li><li><a id="rev:thegiive_email_png" href="#thegiive_email_png">thegiive 的 email</a></li><li><a id="rev:a申請新帳號" href="#a申請新帳號">申請新帳號</a></li><li><a id="rev:login" href="#login">登入畫面</a></li></ol><a name="Tables"/><div class="nav" id="Tables"><a title="Reverse jump to listing" href="#rev:Tables">&equiv;</a>&#x25B3;&#x25BD;<a title="Jump to this segment" href="#Tables">&#x25CE;</a></div><h2 class="title">Tables</h2> <ol><li><a id="rev:rest_http_database" href="#rest_http_database">REST, HTTP 和資料庫</a></li><li><a id="rev:old-crud-url" href="#old-crud-url">舊有的 CRUD URL</a></li><li><a id="rev:VerbsTable" href="#VerbsTable">CRUD, SQL, HTTP, Controller 的動詞對應表</a></li><li><a id="rev:map.resources-:user" href="#map.resources-:user">map.resources :user 產出的路由表</a></li><li><a id="rev:SingularResourceRoutingTable" href="#SingularResourceRoutingTable">單數資源路由表</a></li><li><a id="rev:UsersMlogsRoutingTable" href="#UsersMlogsRoutingTable">users/mlogs 的路由表</a></li><li><a id="rev:restful_authentication_map" href="#restful_authentication_map">認證功能的 REST 架構</a></li></ol></div>

    <br style="display: none"/>
    <hr style="display: none"/>
    <br style="display: none"/>

    <div id="content"><div class="section">
  <a name="a前言"/><div class="nav" id="a前言"><a title="Reverse jump to listing" href="#rev:a前言">&equiv;</a>&#x25B3;<a title="Jump to next segment" href="#a24069360">&#x25BD;</a><a title="Jump to this segment" href="#a前言">&#x25CE;</a></div>
  <h1 class="title">
    1&nbsp;&nbsp;前言
  </h1>
  <div class="content"><p><div class="paragraph">
  <a name="a24069360"/><div class="nav" id="a24069360"><a title="Reverse jump to listing" href="#rev:a24069360">&equiv;</a><a title="Jump to previous segment" href="#a前言">&#x25B3;</a><a title="Jump to next segment" href="#a24059310">&#x25BD;</a><a title="Jump to this segment" href="#a24069360">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Rails 在網站開發的領域上相當火熱， 主要作者 DHH（David Heinemeier Hansson）更被 Google 和 O&#8217;Reilly 選為 2005 年度駭客，但在尚未在台灣成為氣候。 像進行機關某個系統招標時， 只有 10 家 ASP.NET、2 家 JAVA 和 1 家 PHP 廠商打電話詢問。 這麼好的東西居然並未在台灣流行， 原因有很多，但我想中文文件的缺乏是其中一個重要原因， 雖然網路上有很多高手的部落格都有提到 Rails， 但這些內容通常是高手的備忘錄，大部份是片面的文章， 相當不容易讓初學者理解， 語言障礙讓很多台灣的程式師少了認識這個好東西的機會。</p></div>
</div><div class="paragraph">
  <a name="a24059310"/><div class="nav" id="a24059310"><a title="Reverse jump to listing" href="#rev:a24059310">&equiv;</a><a title="Jump to previous segment" href="#a24069360">&#x25B3;</a><a title="Jump to next segment" href="#a24055140">&#x25BD;</a><a title="Jump to this segment" href="#a24059310">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Rails 架構採取目前主流的 MVC 架構， MVC 分別代表模型、視圖和控制器的縮寫， 最早由 Trygve Reenskaug 提出，被應用在 SmallTalk-80 環境中。 其目的是實現一種動態的程式設計，使簡化程式的後續修改和擴展， 並且使程式碼得以重複利用。</p></div>
</div><div class="paragraph">
  <a name="a24055140"/><div class="nav" id="a24055140"><a title="Reverse jump to listing" href="#rev:a24055140">&equiv;</a><a title="Jump to previous segment" href="#a24059310">&#x25B3;</a><a title="Jump to next segment" href="#a24048000">&#x25BD;</a><a title="Jump to this segment" href="#a24055140">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>感謝 Matz 發明這麼好的語言， 讓 Rails 可以應用 Ruby 的動態、高度自省的本質， 使很怕麻煩的程式師 DHH，Rails 框架的建立者， 將 DRY，Dont Repeat Yourself，「不要重覆自已」原則加上， COC，Convention over Configuration，「慣例優於設定檔」原則， 注入了整個 Rails 框架中。</p></div>
</div><div class="paragraph">
  <a name="a24048000"/><div class="nav" id="a24048000"><a title="Reverse jump to listing" href="#rev:a24048000">&equiv;</a><a title="Jump to previous segment" href="#a24055140">&#x25B3;</a><a title="Jump to next segment" href="#a24035090">&#x25BD;</a><a title="Jump to this segment" href="#a24048000">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>DRY「不要重覆自已」原則，簡言之就是相同的程式碼不要寫兩遍， 這結合相當多的技巧，基本上你如果跟我一樣懶惰的話， 應該會愛上這個設計概念。</p></div>
</div><div class="paragraph">
  <a name="a24035090"/><div class="nav" id="a24035090"><a title="Reverse jump to listing" href="#rev:a24035090">&equiv;</a><a title="Jump to previous segment" href="#a24048000">&#x25B3;</a><a title="Jump to next segment" href="#a24018030">&#x25BD;</a><a title="Jump to this segment" href="#a24035090">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>COC「慣例優於設定檔」原則，就是不要事事都要用設定檔來設定系統的行為， 而是把最常用的行為，就是慣例變成系統的預設行為。 這樣一來，程式師脫離一堆 XML 設定檔的苦海中， 忘卻 ASP.NET、J2EE 所帶來的惡夢。</p></div>
</div><div class="paragraph">
  <a name="a24018030"/><div class="nav" id="a24018030"><a title="Reverse jump to listing" href="#rev:a24018030">&equiv;</a><a title="Jump to previous segment" href="#a24035090">&#x25B3;</a><a title="Jump to next segment" href="#a24004090">&#x25BD;</a><a title="Jump to this segment" href="#a24018030">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>當妳部份腦細胞塞滿了 MVC, DRY 及 COC 等古怪縮寫後， 本系列文章將介紹新 Rails 的特色，REST。 這個字眼在目前 Web 開發者的世界可是相當火熱， 網路一堆人討論是否 REST 可望取代 SOA 或是 Webservice 等架構， 而 REST 風格是 Rails 2 的主要特徵， DHH 還把 RoR 從 Ruby On Rails 改成 Resource On Rails 的縮寫， 可見 REST 在 Rails 2 中所佔的地位。 REST 對 Rails 最重要的改變在路由功能， 所以 Rails 2 的路由系統有些許了解後， 文章再介紹 REST 的抽象架構，大家會比較進入狀況。</p></div>
</div><div class="paragraph">
  <a name="a24004090"/><div class="nav" id="a24004090"><a title="Reverse jump to listing" href="#rev:a24004090">&equiv;</a><a title="Jump to previous segment" href="#a24018030">&#x25B3;</a><a title="Jump to next segment" href="#a範例網站簡介">&#x25BD;</a><a title="Jump to this segment" href="#a24004090">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>這系列文章會以一個記帳網站為例，逐步帶領大家進入 Rails 2 的世界。 網站是麻雀雖小，但五臟俱全， 諸如帳號的申請及認證、網站架構的設計、資料庫的設計、 網頁版面設計及表單設計等等都會以 Rails 的觀點來切入。 雖然是我的學習心得，但還算完整的篇幅， 期待能讓讀者能依照此篇文章，作出一個 Rails 2.0 式的網站。 除了賺些稿費養老婆小孩，重點是用 Rails 的人越多， 形成網路效應，讓用 Rails 的人有更多的案子可接。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a範例網站簡介"/><div class="nav" id="a範例網站簡介"><a title="Reverse jump to listing" href="#rev:a範例網站簡介">&equiv;</a><a title="Jump to previous segment" href="#a24004090">&#x25B3;</a><a title="Jump to next segment" href="#a23976680">&#x25BD;</a><a title="Jump to this segment" href="#a範例網站簡介">&#x25CE;</a></div>
  <h1 class="title">
    2&nbsp;&nbsp;範例網站簡介
  </h1>
  <div class="content"><p><div class="paragraph">
  <a name="a23976680"/><div class="nav" id="a23976680"><a title="Reverse jump to listing" href="#rev:a23976680">&equiv;</a><a title="Jump to previous segment" href="#a範例網站簡介">&#x25B3;</a><a title="Jump to next segment" href="#a23965760">&#x25BD;</a><a title="Jump to this segment" href="#a23976680">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>本文圍繞著一個範例網站來介紹 Rails， 使大家能逐步跟著文章學習做出一樣的網站， 所以本文會先介紹這個範例網站， 讓讀者了解學習目標是要作出怎樣的網站。 下面會說明這個網站要解決什麼問題， 以及為了解決這個問是提供了那些功能。</p></div>
</div><div class="paragraph">
  <a name="a23965760"/><div class="nav" id="a23965760"><a title="Reverse jump to listing" href="#rev:a23965760">&equiv;</a><a title="Jump to previous segment" href="#a23976680">&#x25B3;</a><a title="Jump to next segment" href="#a23960340">&#x25BD;</a><a title="Jump to this segment" href="#a23965760">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>「我的記帳簿」(http://mlog.hobby-sites.com)是一個記流水帳的網站， 為什麼要建立這個網站？ 目標是為了解決我們家庭記帳的問題，所以待會會先介紹一下我家庭的背景， 若您家所念的經和我家差不多，這個網站或許可以解決您的問題。</p></div>
</div><div class="paragraph">
  <a name="a23960340"/><div class="nav" id="a23960340"><a title="Reverse jump to listing" href="#rev:a23960340">&equiv;</a><a title="Jump to previous segment" href="#a23965760">&#x25B3;</a><a title="Jump to next segment" href="#a23952890">&#x25BD;</a><a title="Jump to this segment" href="#a23960340">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>我和老婆都有上班，我的薪水大約是老婆的 2 倍， 依照之前的經驗，通常錢給她都是只進不出， 為了將來我能自行給一些錢孝順媽媽， 我並沒有完全把薪水給老婆，而是固定給她一筆家用， 但她常常透支，我又不敢問她怎麼花的， 因為問了通常下場都會大吵一架，而且我的小女孩來到世上， 透支的金額大約是之前固定家用 3 倍，她必須常常和我要錢。 因為平常她在作家事時，總不能忍受我在一旁玩電腦或看電視， 會邊做事，邊不停的命令我做東做西。 她很討厭我認為家好像都不關我的事， 但我總是說家用都是我出的為理由， 在一場持久而強烈的溝通後，她也願意為家用出一點， 即使她出的錢不到我的 1/3，而且透支部份仍由我負擔。</p></div>
</div><div class="paragraph">
  <a name="a23952890"/><div class="nav" id="a23952890"><a title="Reverse jump to listing" href="#rev:a23952890">&equiv;</a><a title="Jump to previous segment" href="#a23960340">&#x25B3;</a><a title="Jump to next segment" href="#a記帳原則">&#x25BD;</a><a title="Jump to this segment" href="#a23952890">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>為了精算到底家用要多少才足夠，以達到減少透支的次數， 記帳成為必要手段。 雖然老婆平常便會在小筆記本記帳， 但是這些帳只是讓她記住上次買這個東西花了多少錢， 而沒有辦法看出這個月總共支出多少，收入多少， 這讓我開始發展這個工具讓她記帳， 才有一個依據來公平協調家用到底每人要怎麼出。 當然通常你若是電腦高手，另一半通常是電腦白痴， 這類羅曼史通常是維修她的電腦開始。 我可是費了很多力氣，才讓她願意使用電腦記帳。</p></div>
</div><div class="section">
  <a name="a記帳原則"/><div class="nav" id="a記帳原則"><a title="Reverse jump to listing" href="#rev:a記帳原則">&equiv;</a><a title="Jump to previous segment" href="#a23952890">&#x25B3;</a><a title="Jump to next segment" href="#a23935340">&#x25BD;</a><a title="Jump to this segment" href="#a記帳原則">&#x25CE;</a></div>
  <h2 class="title">
    2.1&nbsp;&nbsp;記帳原則
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a23935340"/><div class="nav" id="a23935340"><a title="Reverse jump to listing" href="#rev:a23935340">&equiv;</a><a title="Jump to previous segment" href="#a記帳原則">&#x25B3;</a><a title="Jump to next segment" href="#a結算期">&#x25BD;</a><a title="Jump to this segment" href="#a23935340">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>記帳最重要目的是要了解錢花在那，經過仔細討論後， 我們決定「流水帳」是由入帳日期、金額、科目和備註 4 種欄位所組成。 這 4 種資料就足以描述我們家的現金流。 當然也必須藉由一些記帳的原則來控管。</p></div>
</div><div class="section">
  <a name="a結算期"/><div class="nav" id="a結算期"><a title="Reverse jump to listing" href="#rev:a結算期">&equiv;</a><a title="Jump to previous segment" href="#a23935340">&#x25B3;</a><a title="Jump to next segment" href="#a23916940">&#x25BD;</a><a title="Jump to this segment" href="#a結算期">&#x25CE;</a></div>
  <h3 class="title">
    2.1.1&nbsp;&nbsp;結算期
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a23916940"/><div class="nav" id="a23916940"><a title="Reverse jump to listing" href="#rev:a23916940">&equiv;</a><a title="Jump to previous segment" href="#a結算期">&#x25B3;</a><a title="Jump to next segment" href="#a記信用卡帳">&#x25BD;</a><a title="Jump to this segment" href="#a23916940">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>因為我們都是領月薪的，而且很多費用如水電費、手機資費是以月計價的， 所以訂定帳目結算期為一個月，家用的入帳也為 1 個月。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a記信用卡帳"/><div class="nav" id="a記信用卡帳"><a title="Reverse jump to listing" href="#rev:a記信用卡帳">&equiv;</a><a title="Jump to previous segment" href="#a23916940">&#x25B3;</a><a title="Jump to next segment" href="#a23903330">&#x25BD;</a><a title="Jump to this segment" href="#a記信用卡帳">&#x25CE;</a></div>
  <h3 class="title">
    2.1.2&nbsp;&nbsp;記信用卡帳
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a23903330"/><div class="nav" id="a23903330"><a title="Reverse jump to listing" href="#rev:a23903330">&equiv;</a><a title="Jump to previous segment" href="#a記信用卡帳">&#x25B3;</a><a title="Jump to next segment" href="#a固定年繳攤成每月家用">&#x25BD;</a><a title="Jump to this segment" href="#a23903330">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>為了知道信用卡花在那，每筆卡帳都要拆出細項來記。 像是卡帳 5000 不可能只有登錄一筆 5000 的帳， 這樣無法知道那 5000 花在哪， 把細項登錄進去才知道 5000 是花在哪些項目。 所以記帳方式會變成如下：</p>

<ul>
<li>2009/1/15 加油 1000 (2008/12/25信用卡支付)</li>

<li>2009/1/15 衣服 1000 (2008/12/23信用卡支付)</li>
</ul>

<p>我們在備註上加上何時以信用卡支付就可以了。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a固定年繳攤成每月家用"/><div class="nav" id="a固定年繳攤成每月家用"><a title="Reverse jump to listing" href="#rev:a固定年繳攤成每月家用">&equiv;</a><a title="Jump to previous segment" href="#a23903330">&#x25B3;</a><a title="Jump to next segment" href="#a23884480">&#x25BD;</a><a title="Jump to this segment" href="#a固定年繳攤成每月家用">&#x25CE;</a></div>
  <h3 class="title">
    2.1.3&nbsp;&nbsp;固定年繳攤成每月家用
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a23884480"/><div class="nav" id="a23884480"><a title="Reverse jump to listing" href="#rev:a23884480">&equiv;</a><a title="Jump to previous segment" href="#a固定年繳攤成每月家用">&#x25B3;</a><a title="Jump to next segment" href="#a額外支出">&#x25BD;</a><a title="Jump to this segment" href="#a23884480">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>在實行的過程中，常會有每年某一個月會有大筆的固定支出， 例如 5 月要繳交牌照稅，或每年 1 月要繳交保險費， 此時我與老婆商量把固定年繳額，攤成每個月存到老婆的另一個帳戶中， 家用才能依比例分給兩人來負擔， 而不是集中由一個人負擔。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a額外支出"/><div class="nav" id="a額外支出"><a title="Reverse jump to listing" href="#rev:a額外支出">&equiv;</a><a title="Jump to previous segment" href="#a23884480">&#x25B3;</a><a title="Jump to next segment" href="#a23870970">&#x25BD;</a><a title="Jump to this segment" href="#a額外支出">&#x25CE;</a></div>
  <h3 class="title">
    2.1.4&nbsp;&nbsp;額外支出
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a23870970"/><div class="nav" id="a23870970"><a title="Reverse jump to listing" href="#rev:a23870970">&equiv;</a><a title="Jump to previous segment" href="#a額外支出">&#x25B3;</a><a title="Jump to next segment" href="#a23860970">&#x25BD;</a><a title="Jump to this segment" href="#a23870970">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>家用是我與老婆共同負擔每月固定的金額， 若當月有額外的支出，為了記多支出的家用是誰付的錢， 只好多建立了「奶粉公」及「奶粉婆」等兩個支出科目， 來區分支出是誰付的錢，如下：</p>

<ul>
<li>2009/1/15 奶粉公 10000 公公出的心美力HighQ奶粉</li>

<li>2009/1/15 奶粉婆 2000 婆婆出的心美力HighQ奶粉</li>
</ul>

<p>但是最後我們的科目變得越來越複雜，也越不好控制。</p></div>
</div><div class="paragraph">
  <a name="a23860970"/><div class="nav" id="a23860970"><a title="Reverse jump to listing" href="#rev:a23860970">&equiv;</a><a title="Jump to previous segment" href="#a23870970">&#x25B3;</a><a title="Jump to next segment" href="#a我的記帳本網站">&#x25BD;</a><a title="Jump to this segment" href="#a23860970">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>過年回娘家讀了一本「輕鬆學會會計」， 裡頭介紹雙式簿記的用法及目的，讓我理解如何記上述的額外支出。 雙式簿記的精神是除了記支出，會再多一筆來記錢的來源， 這樣當公司有利潤時，才能依據各個股東出的金額來分配利潤， 當公司解散時，才能清楚債務及股本的償還責任。 當然並不是完全把雙式簿記應用到家計簿中， 而是額外支出會多記一筆支出是誰付的， 其科目為「家用」， 並於備註寫是誰出的。 例如上述的奶粉支出應由 2 筆記成 3 筆， 1 筆「奶粉」的總額為支出，以及2筆「家用」， 分別說明公公為奶粉出了多少家用及婆婆為奶粉出了多少家用， 可以清楚說明每人負擔了多少家用。</p>

<ul>
<li>2009/1/15 奶粉 12000 HighQ</li>

<li>2009/1/15 家用 10000 公公出的心美力HighQ奶粉</li>

<li>2009/1/15 家用 2000 婆婆出的心美力HighQ奶粉</li>
</ul>

<p>這種記法使得收支帳可以很輕易看出這個月的家用現金流是否足夠， 並可以輕易用來評估目前的家用是否需要調整。</p></div>
</div></p></div>
</div></p></div>
</div><div class="section">
  <a name="a我的記帳本網站"/><div class="nav" id="a我的記帳本網站"><a title="Reverse jump to listing" href="#rev:a我的記帳本網站">&equiv;</a><a title="Jump to previous segment" href="#a23860970">&#x25B3;</a><a title="Jump to next segment" href="#a如何申請新帳本？">&#x25BD;</a><a title="Jump to this segment" href="#a我的記帳本網站">&#x25CE;</a></div>
  <h2 class="title">
    2.2&nbsp;&nbsp;我的記帳本網站
  </h2>
  <div class="content"><p><div class="section">
  <a name="a如何申請新帳本？"/><div class="nav" id="a如何申請新帳本？"><a title="Reverse jump to listing" href="#rev:a如何申請新帳本？">&equiv;</a><a title="Jump to previous segment" href="#a我的記帳本網站">&#x25B3;</a><a title="Jump to next segment" href="#a23842140">&#x25BD;</a><a title="Jump to this segment" href="#a如何申請新帳本？">&#x25CE;</a></div>
  <h3 class="title">
    2.2.1&nbsp;&nbsp;如何申請新帳本？
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a23842140"/><div class="nav" id="a23842140"><a title="Reverse jump to listing" href="#rev:a23842140">&equiv;</a><a title="Jump to previous segment" href="#a如何申請新帳本？">&#x25B3;</a><a title="Jump to next segment" href="#a如何記帳？">&#x25BD;</a><a title="Jump to this segment" href="#a23842140">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>要使用這個網站，首先要申請一本帳本來記帳， 就等同您要買一本記帳本來記帳是一樣的意思， 更好的是這個帳本是網路服務，意味著只要您能上網就能記帳。 申請帳本您必須輸入一個帳號， 也就是帳本的名稱，和一組密碼， 密碼是用來確認您是這本帳本的主人， 就像您的私房帳本只有您自已知道放在那裡。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a如何記帳？"/><div class="nav" id="a如何記帳？"><a title="Reverse jump to listing" href="#rev:a如何記帳？">&equiv;</a><a title="Jump to previous segment" href="#a23842140">&#x25B3;</a><a title="Jump to next segment" href="#a23817680">&#x25BD;</a><a title="Jump to this segment" href="#a如何記帳？">&#x25CE;</a></div>
  <h3 class="title">
    2.2.2&nbsp;&nbsp;如何記帳？
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a23817680"/><div class="nav" id="a23817680"><a title="Reverse jump to listing" href="#rev:a23817680">&equiv;</a><a title="Jump to previous segment" href="#a如何記帳？">&#x25B3;</a><a title="Jump to next segment" href="#a23784470">&#x25BD;</a><a title="Jump to this segment" href="#a23817680">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>當由開啟帳本的畫面，打開帳本後， 您會看到一片空白，因為新帳本一定是空白的嘛！ 這個畫面稱為「流水帳」。 「流水帳」是記錄的基本單位， 是由入帳日期、金額、科目和備註 4 種欄位所組成。 由於我們的記帳規則通常以一個月為一期， 所以「流水帳」會顯示某個月份的所有流水帳清單， 您可以在上方的「月選單」切換顯示指定月份流水帳清單。</p></div>
</div><div class="paragraph">
  <a name="a23784470"/><div class="nav" id="a23784470"><a title="Reverse jump to listing" href="#rev:a23784470">&equiv;</a><a title="Jump to previous segment" href="#a23817680">&#x25B3;</a><a title="Jump to next segment" href="#a23773530">&#x25BD;</a><a title="Jump to this segment" href="#a23784470">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>新增一筆流水帳的操作稱為「入帳」， 在左方的操作按鈕內，只要按下「入帳」鈕就會開啟入帳畫面， 入帳畫面包含流水帳的 4 個欄位， 第一個是「入帳日期欄」，預設會帶入今天的日期， 在入帳日期旁的是「金額欄」，預設是帶入 0.0。</p></div>
</div><div class="paragraph">
  <a name="a23773530"/><div class="nav" id="a23773530"><a title="Reverse jump to listing" href="#rev:a23773530">&equiv;</a><a title="Jump to previous segment" href="#a23784470">&#x25B3;</a><a title="Jump to next segment" href="#a23762510">&#x25BD;</a><a title="Jump to this segment" href="#a23773530">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>下一行的欄位是「科目欄」， 每筆流水帳可歸屬 1 至多個「科目」， 用來把流水帳整理成為「分類帳」。 「分類帳」的每一個項目就是「流水帳」一種科目的總合。 「收支帳」是「分類帳」的一種， 只不過收支帳會再將科目分為兩大項分別是「收入」與「支出」， 並計算「收入」-「支出」來作為當月是否透支的指標， 我們可以定義「透支」為下式：</p></div>
</div><div class="paragraph">
  <a name="a23762510"/><div class="nav" id="a23762510"><a title="Reverse jump to listing" href="#rev:a23762510">&equiv;</a><a title="Jump to previous segment" href="#a23773530">&#x25B3;</a><a title="Jump to next segment" href="#a23739700">&#x25BD;</a><a title="Jump to this segment" href="#a23762510">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>「收入」-「支出」&lt;　0</p></div>
</div><div class="paragraph">
  <a name="a23739700"/><div class="nav" id="a23739700"><a title="Reverse jump to listing" href="#rev:a23739700">&equiv;</a><a title="Jump to previous segment" href="#a23762510">&#x25B3;</a><a title="Jump to next segment" href="#a用「科目樹」來組織「科目」？">&#x25BD;</a><a title="Jump to this segment" href="#a23739700">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>「科目欄」下方是「科目選單」， 使用者可以方便的按下「科目選單」的「科目鈕」來輸入科目至「科目欄」。 「科目選單」總共有三列， 第一列為「支出科目」，會列出所有歸類為「支出」的科目， 第二列為「收入科目」，會列出所有歸類為「收入」的科目， 第三列為「其它科目」，會列出所有不歸類為「支出」及「收入」的科目。 最後一個欄位就是「備註欄」，用來輔助說明此筆流水帳。 當輸入無誤後，請按下「儲存」把輸入資料存到系統內。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a用「科目樹」來組織「科目」？"/><div class="nav" id="a用「科目樹」來組織「科目」？"><a title="Reverse jump to listing" href="#rev:a用「科目樹」來組織「科目」？">&equiv;</a><a title="Jump to previous segment" href="#a23739700">&#x25B3;</a><a title="Jump to next segment" href="#a28499640">&#x25BD;</a><a title="Jump to this segment" href="#a用「科目樹」來組織「科目」？">&#x25CE;</a></div>
  <h3 class="title">
    2.2.3&nbsp;&nbsp;用「科目樹」來組織「科目」？
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a28499640"/><div class="nav" id="a28499640"><a title="Reverse jump to listing" href="#rev:a28499640">&equiv;</a><a title="Jump to previous segment" href="#a用「科目樹」來組織「科目」？">&#x25B3;</a><a title="Jump to next segment" href="#a28495530">&#x25BD;</a><a title="Jump to this segment" href="#a28499640">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>當您開啟「收支帳」作業時， 會看到兩欄分別為「收入欄」及「支出欄」。 「收入欄」的第一列指當月流水帳歸屬「收入」的總額， 其下每一列為當月某一科目歸屬「收入」的「筆數」及「總額」資料。 「支出欄」的第一列指當月流水帳歸屬「支出」的總額， 其下每一列為當月科目歸屬「支出」的「筆數」及「總額」資料。 「收支帳」可看出當月現金流是否透支。</p></div>
</div><div class="paragraph">
  <a name="a28495530"/><div class="nav" id="a28495530"><a title="Reverse jump to listing" href="#rev:a28495530">&equiv;</a><a title="Jump to previous segment" href="#a28499640">&#x25B3;</a><a title="Jump to next segment" href="#a「科目樹」的操作？">&#x25BD;</a><a title="Jump to this segment" href="#a28495530">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>在「收支帳」裡每個「科目」又可再歸屬至「收入」或「支出」中， 我們以階層關係來組織這些科目，而控制這種階層關係的稱為「科目樹」。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a「科目樹」的操作？"/><div class="nav" id="a「科目樹」的操作？"><a title="Reverse jump to listing" href="#rev:a「科目樹」的操作？">&equiv;</a><a title="Jump to previous segment" href="#a28495530">&#x25B3;</a><a title="Jump to next segment" href="#a28485260">&#x25BD;</a><a title="Jump to this segment" href="#a「科目樹」的操作？">&#x25CE;</a></div>
  <h3 class="title">
    2.2.4&nbsp;&nbsp;「科目樹」的操作？
  </h3>
  <div class="content"><p><div class="paragraph">
  <a name="a28485260"/><div class="nav" id="a28485260"><a title="Reverse jump to listing" href="#rev:a28485260">&equiv;</a><a title="Jump to previous segment" href="#a「科目樹」的操作？">&#x25B3;</a><a title="Jump to next segment" href="#a28477650">&#x25BD;</a><a title="Jump to this segment" href="#a28485260">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>開啟「科目樹」作業時，會先進入「科目資訊」， 「科目資訊」會顯示某一個科目的資訊， 左側是「子科目選單」，會列出科目所有的子科目。 因為「根」是最頂層的科目， 而按下「科目樹」作業會顯示「根」科目 中間是「科目操作」，包含了「新科目」、 「編輯」及「刪除」等三種操作。</p></div>
</div><div class="paragraph">
  <a name="a28477650"/><div class="nav" id="a28477650"><a title="Reverse jump to listing" href="#rev:a28477650">&equiv;</a><a title="Jump to previous segment" href="#a28485260">&#x25B3;</a><a title="Jump to next segment" href="#a28471700">&#x25BD;</a><a title="Jump to this segment" href="#a28477650">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>當你按下「子科目選單」的「科目」時， 會顯示所選擇科目的「科目資訊」， 例如按下「支出」則會切換到「支出」的「科目資訊」， 同時「子科目選單」會列出所有「支出」的子科目。</p></div>
</div><div class="paragraph">
  <a name="a28471700"/><div class="nav" id="a28471700"><a title="Reverse jump to listing" href="#rev:a28471700">&equiv;</a><a title="Jump to previous segment" href="#a28477650">&#x25B3;</a><a title="Jump to next segment" href="#a28468350">&#x25BD;</a><a title="Jump to this segment" href="#a28471700">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>當按下「新科目」操作時，則會進入「新增子科目」表單， 裡頭只有一個「科目名稱」欄位， 當你輸入完科目名稱後按下「建立」， 便會建立一個子科目。</p></div>
</div><div class="paragraph">
  <a name="a28468350"/><div class="nav" id="a28468350"><a title="Reverse jump to listing" href="#rev:a28468350">&equiv;</a><a title="Jump to previous segment" href="#a28471700">&#x25B3;</a><a title="Jump to next segment" href="#a28460450">&#x25BD;</a><a title="Jump to this segment" href="#a28468350">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>當按下「編輯」操作時，便會進入「編輯科目」表單， 在「編輯科目」表單中，右邊的「子科目選單」會變成「科目選單」， 「科目選單」會列出所有的科目。 表單裡頭有 2 個欄位，第 1 個是「父科目」， 會改變目前科目的父科目， 「父科目」內容必須由「科目選單」選擇。 第 2 個是「科目名稱」讓妳設定新的科目名稱。</p></div>
</div><div class="paragraph">
  <a name="a28460450"/><div class="nav" id="a28460450"><a title="Reverse jump to listing" href="#rev:a28460450">&equiv;</a><a title="Jump to previous segment" href="#a28468350">&#x25B3;</a><a title="Jump to next segment" href="#a準備開發環境">&#x25BD;</a><a title="Jump to this segment" href="#a28460450">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>當按下「刪除」操作時，便會刪除這個科目。</p></div>
</div></p></div>
</div></p></div>
</div></p></div>
</div><div class="section">
  <a name="a準備開發環境"/><div class="nav" id="a準備開發環境"><a title="Reverse jump to listing" href="#rev:a準備開發環境">&equiv;</a><a title="Jump to previous segment" href="#a28460450">&#x25B3;</a><a title="Jump to next segment" href="#a安裝-Ruby">&#x25BD;</a><a title="Jump to this segment" href="#a準備開發環境">&#x25CE;</a></div>
  <h1 class="title">
    3&nbsp;&nbsp;準備開發環境
  </h1>
  <div class="content"><p><div class="section">
  <a name="a安裝-Ruby"/><div class="nav" id="a安裝-Ruby"><a title="Reverse jump to listing" href="#rev:a安裝-Ruby">&equiv;</a><a title="Jump to previous segment" href="#a準備開發環境">&#x25B3;</a><a title="Jump to next segment" href="#a28449430">&#x25BD;</a><a title="Jump to this segment" href="#a安裝-Ruby">&#x25CE;</a></div>
  <h2 class="title">
    3.1&nbsp;&nbsp;安裝 Ruby
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28449430"/><div class="nav" id="a28449430"><a title="Reverse jump to listing" href="#rev:a28449430">&equiv;</a><a title="Jump to previous segment" href="#a安裝-Ruby">&#x25B3;</a><a title="Jump to next segment" href="#select_modules">&#x25BD;</a><a title="Jump to this segment" href="#a28449430">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>在 Windows 下安裝 Ruby 很簡單。 先連到 http://www.ruby-lang.org/en/downloads/。 本文章使用的版本是 1.8.6。 所以選擇下載 &#8220;Ruby 1.8.6 One-Click Installer&#8221; 後安裝， 如同安裝程式名稱所言，妳只要按一下(One-Click)就可以完成安裝。</p></div>
</div><div class="figure">
  <a name="select_modules"/><div class="nav" id="select_modules"><a title="Reverse jump to listing" href="#rev:select_modules">&equiv;</a><a title="Jump to previous segment" href="#a28449430">&#x25B3;</a><a title="Jump to next segment" href="#a28441910">&#x25BD;</a><a title="Jump to this segment" href="#select_modules">&#x25CE;</a></div>
  <p class="title">Figure 1.&nbsp;&nbsp;選擇安裝模組</p>
  <div class="content"><img src='/rails_book/images/select_modules.png' /></div>
</div><div class="paragraph">
  <a name="a28441910"/><div class="nav" id="a28441910"><a title="Reverse jump to listing" href="#rev:a28441910">&equiv;</a><a title="Jump to previous segment" href="#select_modules">&#x25B3;</a><a title="Jump to next segment" href="#ruby_v">&#x25BD;</a><a title="Jump to this segment" href="#a28441910">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>在 Windows 下安裝 Ruby 很簡單。 如<a class="xref" href="#select_modules">Figure 1. 選擇安裝模組</a>所示安裝時可以選不同的模組， &#8220;Enable RubyGems&#8221; 一定要選， 因為所有的 ruby 套件都是用 gems 系統來管理。 SciTE 和 FreeRIDE 是 Ruby 的開發工具， 用用看也不錯，但是真的很慢啦！ 我的建議是用 VIM，因為我是 vimer。 此安裝程式還會安裝&#8221;fxri - Interactive Ruby Help and Console&#8221;。 這個工具很有用，可以用來查 Ruby Class 的 method， 也可以測試一小段的程式看他跑出來的東西符不符合你的期望。 要測試 ruby 是否安裝成功，先按<span>開始/執行</span>輸入cmd，便開啟命令視窗， 在視窗輸入以下的指令：</p></div>
</div><div class="code">
  <a name="ruby_v"/><div class="nav" id="ruby_v"><a title="Reverse jump to listing" href="#rev:ruby_v">&equiv;</a><a title="Jump to previous segment" href="#a28441910">&#x25B3;</a><a title="Jump to next segment" href="#ruby_v_successful">&#x25BD;</a><a title="Jump to this segment" href="#ruby_v">&#x25CE;</a></div>
  <p class="title">Code 1.&nbsp;&nbsp;ruby -v</p>
  <p><pre class="code">ruby -v
</pre></p>
</div><div class="figure">
  <a name="ruby_v_successful"/><div class="nav" id="ruby_v_successful"><a title="Reverse jump to listing" href="#rev:ruby_v_successful">&equiv;</a><a title="Jump to previous segment" href="#ruby_v">&#x25B3;</a><a title="Jump to next segment" href="#a28421910">&#x25BD;</a><a title="Jump to this segment" href="#ruby_v_successful">&#x25CE;</a></div>
  <p class="title">Figure 2.&nbsp;&nbsp;執行 ruby -v</p>
  <div class="content"><img src='/rails_book/images/ruby_v_successful.png' /></div>
</div><div class="paragraph">
  <a name="a28421910"/><div class="nav" id="a28421910"><a title="Reverse jump to listing" href="#rev:a28421910">&equiv;</a><a title="Jump to previous segment" href="#ruby_v_successful">&#x25B3;</a><a title="Jump to next segment" href="#a安裝-Rails">&#x25BD;</a><a title="Jump to this segment" href="#a28421910">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>若螢幕回覆如<a class="xref" href="#ruby_v_successful">Figure 2. 執行 ruby -v</a>，就表示安裝 Ruby 成功。 指令裡的 -v 就是顯示 ruby 版本的意思。 螢幕回覆裡的 1.8.6 就是現有安裝的版本。 <span>i386-mswin32</span> 指目前的作業系統是 Windows， 當然別的系統就會顯示自己的系統名稱。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a安裝-Rails"/><div class="nav" id="a安裝-Rails"><a title="Reverse jump to listing" href="#rev:a安裝-Rails">&equiv;</a><a title="Jump to previous segment" href="#a28421910">&#x25B3;</a><a title="Jump to next segment" href="#a28402430">&#x25BD;</a><a title="Jump to this segment" href="#a安裝-Rails">&#x25CE;</a></div>
  <h2 class="title">
    3.2&nbsp;&nbsp;安裝 Rails
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28402430"/><div class="nav" id="a28402430"><a title="Reverse jump to listing" href="#rev:a28402430">&equiv;</a><a title="Jump to previous segment" href="#a安裝-Rails">&#x25B3;</a><a title="Jump to next segment" href="#gem_install_rails">&#x25BD;</a><a title="Jump to this segment" href="#a28402430">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>安裝 Rails 更簡單，執行以下命令。</p></div>
</div><div class="code">
  <a name="gem_install_rails"/><div class="nav" id="gem_install_rails"><a title="Reverse jump to listing" href="#rev:gem_install_rails">&equiv;</a><a title="Jump to previous segment" href="#a28402430">&#x25B3;</a><a title="Jump to next segment" href="#rails_v">&#x25BD;</a><a title="Jump to this segment" href="#gem_install_rails">&#x25CE;</a></div>
  <p class="title">Code 2.&nbsp;&nbsp;gem install rails</p>
  <p><pre class="code">gem install rails
</pre></p>
</div><div class="figure">
  <a name="rails_v"/><div class="nav" id="rails_v"><a title="Reverse jump to listing" href="#rev:rails_v">&equiv;</a><a title="Jump to previous segment" href="#gem_install_rails">&#x25B3;</a><a title="Jump to next segment" href="#a28372930">&#x25BD;</a><a title="Jump to this segment" href="#rails_v">&#x25CE;</a></div>
  <p class="title">Figure 3.&nbsp;&nbsp;執行 rails -v</p>
  <div class="content"><img src='/rails_book/images/rails_v.jpg' /></div>
</div><div class="paragraph">
  <a name="a28372930"/><div class="nav" id="a28372930"><a title="Reverse jump to listing" href="#rev:a28372930">&equiv;</a><a title="Jump to previous segment" href="#rails_v">&#x25B3;</a><a title="Jump to next segment" href="#MVC">&#x25BD;</a><a title="Jump to this segment" href="#a28372930">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>若螢幕回覆如<a class="xref" href="#rails_v">Figure 3. 執行 rails -v</a>，就表示安裝 Rails 成功。 指令裡的 -v 就是顯示 rails 版本的意思。</p></div>
</div></p></div>
</div></p></div>
</div><div class="section">
  <a name="MVC"/><div class="nav" id="MVC"><a title="Reverse jump to listing" href="#rev:MVC">&equiv;</a><a title="Jump to previous segment" href="#a28372930">&#x25B3;</a><a title="Jump to next segment" href="#a28351270">&#x25BD;</a><a title="Jump to this segment" href="#MVC">&#x25CE;</a></div>
  <h1 class="title">
    4&nbsp;&nbsp;MVC
  </h1>
  <div class="content"><p><div class="paragraph">
  <a name="a28351270"/><div class="nav" id="a28351270"><a title="Reverse jump to listing" href="#rev:a28351270">&equiv;</a><a title="Jump to previous segment" href="#MVC">&#x25B3;</a><a title="Jump to next segment" href="#a28342290">&#x25BD;</a><a title="Jump to this segment" href="#a28351270">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Rails 架構採取目前主流的 MVC(Model-View-Controller) 架構， 它將軟體系統分成三個基本部份，分別為「資料模型」、「視圖」和「控制器」， 並訂定各個基本部分應有的功能， 最早由 Trygve Reenskaug 提出，被應用在 SmallTalk-80 環境中， 其目的是實現一種動態的程式設計，簡化程式的複雜度， 並使程序結構更加直觀，使簡化程式的後續修改和擴展， 並且使程式碼得以重複利用。</p></div>
</div><div class="paragraph">
  <a name="a28342290"/><div class="nav" id="a28342290"><a title="Reverse jump to listing" href="#rev:a28342290">&equiv;</a><a title="Jump to previous segment" href="#a28351270">&#x25B3;</a><a title="Jump to next segment" href="#a28333200">&#x25BD;</a><a title="Jump to this segment" href="#a28342290">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>「資料模型」封裝與應用程序業務邏輯相關的資料以及對資料的處理方法。 「資料模型」有對資料直接訪問的權利，例如對資料庫的訪問， 當然不只是資料庫，也許可以是加密的檔案或資料夾， 可以看之後的計數器範例。 「資料模型」不依賴「視圖」和「控制器」，不關心它會被如何顯示或是被操作。 但是模型中資料的變化會利用「事件趨動模式」讓視圖知道資料變化， 觀察者模式要求監視此模型的視圖必須事先在此模型上註冊， 視圖才能了解在資料模型上發生的改變。</p></div>
</div><div class="paragraph">
  <a name="a28333200"/><div class="nav" id="a28333200"><a title="Reverse jump to listing" href="#rev:a28333200">&equiv;</a><a title="Jump to previous segment" href="#a28342290">&#x25B3;</a><a title="Jump to next segment" href="#a28326960">&#x25BD;</a><a title="Jump to this segment" href="#a28333200">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>「視圖」負責顯示資料，資料異動時，視圖必須更新， 視圖更新一般不是循序邏輯趨動， 而是由事件趨動所觸發， 為了實現「視圖」上的刷新功能， 「視圖」需要訪問它監視的「資料模型」，因此應該事先在被它監視的「資料模型」那裡註冊。</p></div>
</div><div class="paragraph">
  <a name="a28326960"/><div class="nav" id="a28326960"><a title="Reverse jump to listing" href="#rev:a28326960">&equiv;</a><a title="Jump to previous segment" href="#a28333200">&#x25B3;</a><a title="Jump to next segment" href="#a28321430">&#x25BD;</a><a title="Jump to this segment" href="#a28326960">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>「控制器」組織不同元件，並控制應用程序的流程。 它處理事件並作出回應。 「事件」包括用戶的行為和資料模型上的改變。</p></div>
</div><div class="paragraph">
  <a name="a28321430"/><div class="nav" id="a28321430"><a title="Reverse jump to listing" href="#rev:a28321430">&equiv;</a><a title="Jump to previous segment" href="#a28326960">&#x25B3;</a><a title="Jump to next segment" href="#a28316310">&#x25BD;</a><a title="Jump to this segment" href="#a28321430">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>若將系統切割成 MVC，則人員可以通過自身的專長分組：</p>

<ul>
<li>i控制器，程序員編寫程序應有的功能，實現演算法</li>

<li>i視圖，界面設計人員進行圖形界面設計</li>

<li>i模型，資料庫專家進行資料管理和資料庫設計</li>
</ul></div>
</div><div class="paragraph">
  <a name="a28316310"/><div class="nav" id="a28316310"><a title="Reverse jump to listing" href="#rev:a28316310">&equiv;</a><a title="Jump to previous segment" href="#a28321430">&#x25B3;</a><a title="Jump to next segment" href="#MVC-的第-1-個例子：Hello-Rails">&#x25BD;</a><a title="Jump to this segment" href="#a28316310">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Rails 架構中「資料模型」與「視圖」的溝通並非事件模式， 而是由「控制器」來控制整個流程。 以下我們會用 3 個例子，來觀察 Rails 的 MVC 是如何運作， 第 1 個例子顯示 Rails 沒有「資料模型」，只要有「控制器」就可以運作； 第 2 個例子顯示 Rails 中「資料模型」不一定要繼承 ActiveRecord， 任何東西都可以是「資料模型」，這個例子的資料模型是 File。 第 3 個例子就是標準的 Rails 架構，利用 ActiveRecord 來與資料庫溝通， 並傳回給視圖。</p></div>
</div><div class="section">
  <a name="MVC-的第-1-個例子：Hello-Rails"/><div class="nav" id="MVC-的第-1-個例子：Hello-Rails"><a title="Reverse jump to listing" href="#rev:MVC-的第-1-個例子：Hello-Rails">&equiv;</a><a title="Jump to previous segment" href="#a28316310">&#x25B3;</a><a title="Jump to next segment" href="#a28310130">&#x25BD;</a><a title="Jump to this segment" href="#MVC-的第-1-個例子：Hello-Rails">&#x25CE;</a></div>
  <h2 class="title">
    4.1&nbsp;&nbsp;MVC 的第 1 個例子：Hello Rails
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28310130"/><div class="nav" id="a28310130"><a title="Reverse jump to listing" href="#rev:a28310130">&equiv;</a><a title="Jump to previous segment" href="#MVC-的第-1-個例子：Hello-Rails">&#x25B3;</a><a title="Jump to next segment" href="#a28306150">&#x25BD;</a><a title="Jump to this segment" href="#a28310130">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>自從 C 的發明者寫了第 1 本 C 的經典手冊後， 程式教科書總有一個傳統，所寫第一支程式往往稱作 Hello World， 並教大家認識程式及其執行環境的基本結構。 本文也不例外，第一支程式稱為 Hello Rails。</p></div>
</div><div class="paragraph">
  <a name="a28306150"/><div class="nav" id="a28306150"><a title="Reverse jump to listing" href="#rev:a28306150">&equiv;</a><a title="Jump to previous segment" href="#a28310130">&#x25B3;</a><a title="Jump to next segment" href="#rails_moneylog">&#x25BD;</a><a title="Jump to this segment" href="#a28306150">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>發展 rails 程式的第一步，是要建立起基本程式架構， 這個基本架構通常組織成一個目錄，目錄下有許多預設的設定檔， 當你日後發展程式時，可修正預設的設定檔，不用全部重打一次。 程式的基本架構由 rails 指令產生出來， 此指令是一種程式碼產生器，用法如下：</p></div>
</div><div class="code">
  <a name="rails_moneylog"/><div class="nav" id="rails_moneylog"><a title="Reverse jump to listing" href="#rev:rails_moneylog">&equiv;</a><a title="Jump to previous segment" href="#a28306150">&#x25B3;</a><a title="Jump to next segment" href="#a28298110">&#x25BD;</a><a title="Jump to this segment" href="#rails_moneylog">&#x25CE;</a></div>
  <p class="title">Code 3.&nbsp;&nbsp;產出 moneylog 專案</p>
  <p><pre class="code"><span style="color:#036;font-weight:bold">C</span>:<span style="color:#F00;background-color:#FAA">\</span>rails moneylog
      create  
      create  app/controllers
      create  app/helpers
      create  app/models
      create  app/views/layouts
      create  config/environments
      create  config/initializers
      create  db
      create  doc
      create  lib
      create  lib/tasks
      create  log
      create  public/images
      create  public/javascripts
      create  public/stylesheets
      create  script/performance
      create  script/process
      create  test/fixtures
      create  test/functional
      create  test/integration
      create  test/unit
      create  vendor
      create  vendor/plugins
      create  tmp/sessions
      create  tmp/sockets
      create  tmp/cache
      create  tmp/pids
      create  <span style="color:#036;font-weight:bold">Rakefile</span>
      create  <span style="color:#036;font-weight:bold">README</span>
      create  app/controllers/application.rb
      create  app/helpers/application_helper.rb
      create  test/test_helper.rb
      create  config/database.yml
      create  config/routes.rb
      create  config/initializers/inflections.rb
      create  config/initializers/mime_types.rb
      create  config/initializers/new_rails_defaults.rb
      create  config/boot.rb
      create  config/environment.rb
      create  config/environments/production.rb
      create  config/environments/development.rb
      create  config/environments/test.rb
      create  script/about
      create  script/console
      create  script/dbconsole
      create  script/destroy
      create  script/generate
      create  script/performance/benchmarker
      create  script/performance/profiler
      create  script/performance/request
      create  script/process/reaper
      create  script/process/spawner
      create  script/process/inspector
      create  script/runner
      create  script/server
      create  script/plugin
      create  public/dispatch.rb
      create  public/dispatch.cgi
      create  public/dispatch.fcgi
      create  public/<span style="color:#00D;font-weight:bold">404</span>.html
      create  public/<span style="color:#00D;font-weight:bold">422</span>.html
      create  public/<span style="color:#00D;font-weight:bold">500</span>.html
      create  public/index.html
      create  public/favicon.ico
      create  public/robots.txt
      create  public/images/rails.png
      create  public/javascripts/prototype.js
      create  public/javascripts/effects.js
      create  public/javascripts/dragdrop.js
      create  public/javascripts/controls.js
      create  public/javascripts/application.js
      create  doc/<span style="color:#036;font-weight:bold">README_FOR_APP</span>
      create  log/server.log
      create  log/production.log
      create  log/development.log
      create  log/test.log
</pre></p>
</div><div class="paragraph">
  <a name="a28298110"/><div class="nav" id="a28298110"><a title="Reverse jump to listing" href="#rev:a28298110">&equiv;</a><a title="Jump to previous segment" href="#rails_moneylog">&#x25B3;</a><a title="Jump to next segment" href="#hello_object">&#x25BD;</a><a title="Jump to this segment" href="#a28298110">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>rails 指令後面加上專案名稱，便會建立一個專案， 如<a class="xref" href="#rails_moneylog">Code 3. 產出 moneylog 專案</a>所示會建立一個目錄 moneylog， 並將預設檔案建立在這個目錄下。</p></div>
</div><div class="figure">
  <a name="hello_object"/><div class="nav" id="hello_object"><a title="Reverse jump to listing" href="#rev:hello_object">&equiv;</a><a title="Jump to previous segment" href="#a28298110">&#x25B3;</a><a title="Jump to next segment" href="#a28289420">&#x25BD;</a><a title="Jump to this segment" href="#hello_object">&#x25CE;</a></div>
  <p class="title">Figure 4.&nbsp;&nbsp;Hello 的物件圖</p>
  <div class="content"><img src='/rails_book/images/hello_object.jpg' /></div>
</div><div class="paragraph">
  <a name="a28289420"/><div class="nav" id="a28289420"><a title="Reverse jump to listing" href="#rev:a28289420">&equiv;</a><a title="Jump to previous segment" href="#hello_object">&#x25B3;</a><a title="Jump to next segment" href="#hello_controller.rb">&#x25BD;</a><a title="Jump to this segment" href="#a28289420">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><a class="xref" href="#hello_object">Figure 4. Hello 的物件圖</a>為 Hello Rails 的物件圖， 物件旁會加註它是扮演模型、視圖和控制器何種角色， 而訊息線會加註它的發生的順序，來表示各個物件如何依序作用， 訊息線 1 表示使用者使用 Browser 並在網址列輸入 &#8220;http://mlog.hobby-site.com/hello/rails&#8221;， Browser 把它包裏在 HTTP 訊息送給 Web Server。 首先會傳給 Rails 的路由系統來決定此 HTTP 訊息應交由那個控制器處理， 從訊息線 2 此 HTTP 訊息會轉交 HelloController 控制器處理。</p></div>
</div><div class="code">
  <a name="hello_controller.rb"/><div class="nav" id="hello_controller.rb"><a title="Reverse jump to listing" href="#rev:hello_controller.rb">&equiv;</a><a title="Jump to previous segment" href="#a28289420">&#x25B3;</a><a title="Jump to next segment" href="#a28274170">&#x25BD;</a><a title="Jump to this segment" href="#hello_controller.rb">&#x25CE;</a></div>
  <p class="title">Code 4.&nbsp;&nbsp;hello<em>controller.rb</em></p>
  <p><pre class="code"><span style="color:#666">#app/controllers/hello_controller.rb</span>
<span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">HelloController</span> &lt; <span style="color:#036;font-weight:bold">ApplicationController</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rails</span>
    <span style="color:#33B">@hello_string</span> = <span style="background-color:#fff0f0"><span style="color:#710">'</span><span style="color:#D20">Hello Rails!</span><span style="color:#710">'</span></span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></p>
</div><div class="paragraph">
  <a name="a28274170"/><div class="nav" id="a28274170"><a title="Reverse jump to listing" href="#rev:a28274170">&equiv;</a><a title="Jump to previous segment" href="#hello_controller.rb">&#x25B3;</a><a title="Jump to next segment" href="#a28257160">&#x25BD;</a><a title="Jump to this segment" href="#a28274170">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>為了處理上述的 HTTP 訊息，我們要定義 HelloController 控制器類別， 定義此類別的檔名一定為 hello<em>controller.rb 並且必須存放在 app/controllers 目錄下， 如<a class="xref" href="#hello_object">Figure 4. Hello 的物件圖</a>所示，控制器一定得繼承自 ApplicationController。</em></p></div>
</div><div class="paragraph">
  <a name="a28257160"/><div class="nav" id="a28257160"><a title="Reverse jump to listing" href="#rev:a28257160">&equiv;</a><a title="Jump to previous segment" href="#a28274170">&#x25B3;</a><a title="Jump to next segment" href="#rails.html.erb">&#x25BD;</a><a title="Jump to this segment" href="#a28257160">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>控制器與視圖的溝通是使用實例變數， 如<a class="xref" href="#hello_object">Figure 4. Hello 的物件圖</a>所示， 把要傳給視圖的資料存在 @hello<em>string 變數中。 Rails 的視圖通常為 erb 檔案，erb 類似 asp 或 jsp， 可以在 HTML 的樣板中，內嵌 ruby 程式碼。 HelloController 在最後會把相關的資料傳給對應的 erb 檔案。 如上例為控制器為 HelloController，而 action 名稱為 rails， 故對映的 erb 檔案應為 app/views/hello/rails.html.erb， 最終 rails.html.erb 會自動展開成顯示 &#8220;Hello Rails!&#8221; 的 html 或 xml 檔案，並回傳給使用者，使用者畫面呈現如<a class="xref" href="#hello_rails">Figure 5. Hello Rails 畫面</a>。</em></p></div>
</div><div class="code">
  <a name="rails.html.erb"/><div class="nav" id="rails.html.erb"><a title="Reverse jump to listing" href="#rev:rails.html.erb">&equiv;</a><a title="Jump to previous segment" href="#a28257160">&#x25B3;</a><a title="Jump to next segment" href="#a28236220">&#x25BD;</a><a title="Jump to this segment" href="#rails.html.erb">&#x25CE;</a></div>
  <p class="title">Code 5.&nbsp;&nbsp;rails.html.erb</p>
  <p><pre class="code">&lt;h1&gt;
&lt;<span style="background-color:#fff0f0"><span style="color:#710">%=</span><span style="color:#D20">@hello_string%&gt;
&lt;/h1&gt;
</span></span></pre></p>
</div><div class="paragraph">
  <a name="a28236220"/><div class="nav" id="a28236220"><a title="Reverse jump to listing" href="#rev:a28236220">&equiv;</a><a title="Jump to previous segment" href="#rails.html.erb">&#x25B3;</a><a title="Jump to next segment" href="#start_server">&#x25BD;</a><a title="Jump to this segment" href="#a28236220">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>一切 OK 後，用下面命令啟動 server。</p></div>
</div><div class="code">
  <a name="start_server"/><div class="nav" id="start_server"><a title="Reverse jump to listing" href="#rev:start_server">&equiv;</a><a title="Jump to previous segment" href="#a28236220">&#x25B3;</a><a title="Jump to next segment" href="#a28226640">&#x25BD;</a><a title="Jump to this segment" href="#start_server">&#x25CE;</a></div>
  <p class="title">Code 6.&nbsp;&nbsp;啟動 server</p>
  <p><pre class="code">ruby script/server
</pre></p>
</div><div class="paragraph">
  <a name="a28226640"/><div class="nav" id="a28226640"><a title="Reverse jump to listing" href="#rev:a28226640">&equiv;</a><a title="Jump to previous segment" href="#start_server">&#x25B3;</a><a title="Jump to next segment" href="#hello_rails">&#x25BD;</a><a title="Jump to this segment" href="#a28226640">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>在瀏覽器中輸入 URL 為 http://localhost:3000/hello/rails 再按 enter， 便會出現以下畫面：</p></div>
</div><div class="figure">
  <a name="hello_rails"/><div class="nav" id="hello_rails"><a title="Reverse jump to listing" href="#rev:hello_rails">&equiv;</a><a title="Jump to previous segment" href="#a28226640">&#x25B3;</a><a title="Jump to next segment" href="#MVC-第-2-個例子-計數器服務">&#x25BD;</a><a title="Jump to this segment" href="#hello_rails">&#x25CE;</a></div>
  <p class="title">Figure 5.&nbsp;&nbsp;Hello Rails 畫面</p>
  <div class="content"><img src='/rails_book/images/hello_rails.jpg' /></div>
</div></p></div>
</div><div class="section">
  <a name="MVC-第-2-個例子-計數器服務"/><div class="nav" id="MVC-第-2-個例子-計數器服務"><a title="Reverse jump to listing" href="#rev:MVC-第-2-個例子-計數器服務">&equiv;</a><a title="Jump to previous segment" href="#hello_rails">&#x25B3;</a><a title="Jump to next segment" href="#a28203140">&#x25BD;</a><a title="Jump to this segment" href="#MVC-第-2-個例子-計數器服務">&#x25CE;</a></div>
  <h2 class="title">
    4.2&nbsp;&nbsp;MVC 第 2 個例子, 計數器服務
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28203140"/><div class="nav" id="a28203140"><a title="Reverse jump to listing" href="#rev:a28203140">&equiv;</a><a title="Jump to previous segment" href="#MVC-第-2-個例子-計數器服務">&#x25B3;</a><a title="Jump to next segment" href="#counters-exmple.html">&#x25BD;</a><a title="Jump to this segment" href="#a28203140">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>計數器通常是一個網站最基本的統計功能， 主要統計某個網頁點閱過的次數。 基礎的實作通常是某個網頁要下載前， 會從檔案或資料庫中讀取計數值， 存在變數中，在遞增計數值寫回到檔案或資料庫中， 最後傳給使用者一串文字表示此網頁的計數， 但市面上的計數器服務通常是是傳回一個表示目前計數的圖片， 因為若計數器服務是傳回文字，則只能應用在動態網頁， 網頁為靜態 HTML 檔則必須改成動態網頁並加入程式碼來顯示計數， 若傳回圖片的話，原本的 HTML 只要加上一個 img 標籤就可以讓網頁有計數功能， 如<a class="xref" href="#counters-exmple.html">Code 7. counters/exmple.html</a>所示， 網頁只要加入 &#60;img src=&#8221;http://mlog.hobby-site.com/counters/count.jpeg&#8221;/&gt;， 此圖片便會顯示目前的計數。</p></div>
</div><div class="code">
  <a name="counters-exmple.html"/><div class="nav" id="counters-exmple.html"><a title="Reverse jump to listing" href="#rev:counters-exmple.html">&equiv;</a><a title="Jump to previous segment" href="#a28203140">&#x25B3;</a><a title="Jump to next segment" href="#a28183080">&#x25BD;</a><a title="Jump to this segment" href="#counters-exmple.html">&#x25CE;</a></div>
  <p class="title">Code 7.&nbsp;&nbsp;counters/exmple.html</p>
  <p><pre class="code">&lt;!<span style="color:#036;font-weight:bold">DOCTYPE</span> html <span style="color:#036;font-weight:bold">PUBLIC</span> <span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">-//W3C//DTD XHTML 1.0 Transitional//EN</span><span style="color:#710">&quot;</span></span>
       <span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</span><span style="color:#710">&quot;</span></span>&gt;
&lt;html xmlns=<span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">http://www.w3.org/1999/xhtml</span><span style="color:#710">&quot;</span></span> xml<span style="color:#A60">:lang=</span><span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">en</span><span style="color:#710">&quot;</span></span> lang=<span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">en</span><span style="color:#710">&quot;</span></span>&gt;
&lt;head&gt;
  &lt;meta http-equiv=<span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">content-type</span><span style="color:#710">&quot;</span></span> content=<span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">text/html;charset=UTF-8</span><span style="color:#710">&quot;</span></span> /&gt;
&lt;<span style="background-color:#fff0ff"><span style="color:#404">/</span><span style="color:#808">head&gt;
&lt;body&gt;
&lt;center&gt;
&lt;img src=&quot;http:</span><span style="color:#404">/</span></span>/mlog.hobby-site.com/counters/count.jpeg<span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">/&gt;
&lt;/center
&lt;h1&gt;小剛的計數器範例&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</span></span></pre></p>
</div><div class="paragraph">
  <a name="a28183080"/><div class="nav" id="a28183080"><a title="Reverse jump to listing" href="#rev:a28183080">&equiv;</a><a title="Jump to previous segment" href="#counters-exmple.html">&#x25B3;</a><a title="Jump to next segment" href="#MVC-第-2-個例子-流水帳">&#x25BD;</a><a title="Jump to this segment" href="#a28183080">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>計數器服務能提供很多計數器給不同的網頁來計數， 所以一定要有 id 來區分計數器，本例子以 URL 是存取計數器的 id， 將 count.jpeg 改成 coute2.jpeg 就可存取到另一個計數器。</p></div>
</div></p></div>
</div> <div class="section">
  <a name="MVC-第-2-個例子-流水帳"/><div class="nav" id="MVC-第-2-個例子-流水帳"><a title="Reverse jump to listing" href="#rev:MVC-第-2-個例子-流水帳">&equiv;</a><a title="Jump to previous segment" href="#a28183080">&#x25B3;</a><a title="Jump to next segment" href="#rails2_mvc">&#x25BD;</a><a title="Jump to this segment" href="#MVC-第-2-個例子-流水帳">&#x25CE;</a></div>
  <h2 class="title">
    4.3&nbsp;&nbsp;MVC 第 2 個例子, 流水帳
  </h2>
  <div class="content"><p><div class="figure">
  <a name="rails2_mvc"/><div class="nav" id="rails2_mvc"><a title="Reverse jump to listing" href="#rev:rails2_mvc">&equiv;</a><a title="Jump to previous segment" href="#MVC-第-2-個例子-流水帳">&#x25B3;</a><a title="Jump to next segment" href="#a28162830">&#x25BD;</a><a title="Jump to this segment" href="#rails2_mvc">&#x25CE;</a></div>
  <p class="title">Figure 6.&nbsp;&nbsp;Rails 的 MVC 架構</p>
  <div class="content"><img src='/rails_book/images/rails2_object.jpg' /></div>
</div><div class="paragraph">
  <a name="a28162830"/><div class="nav" id="a28162830"><a title="Reverse jump to listing" href="#rev:a28162830">&equiv;</a><a title="Jump to previous segment" href="#rails2_mvc">&#x25B3;</a><a title="Jump to next segment" href="#a28143950">&#x25BD;</a><a title="Jump to this segment" href="#a28162830">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><a class="xref" href="#rails2_mvc">Figure 6. Rails 的 MVC 架構</a>顯示使用者開啟「我的記帳本」中「流水帳」的作業， 物件的作用，這個作業便由加入模型。</p></div>
</div><div class="paragraph">
  <a name="a28143950"/><div class="nav" id="a28143950"><a title="Reverse jump to listing" href="#rev:a28143950">&equiv;</a><a title="Jump to previous segment" href="#a28162830">&#x25B3;</a><a title="Jump to next segment" href="#monthly_mlogs_controller.rb">&#x25BD;</a><a title="Jump to this segment" href="#a28143950">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>首先使用者使用 Browser 並在網址列輸入 &#8220;http://mlog.hobby-site.com&#8221;， Browser 把它包裏在 HTTP 訊息傳給我們的 Web Server。 如訊息線 1 所示， 一樣會先傳給 Rails 的路由系統來決定此 HTTP 訊息應交由那個控制器處理， 從訊息線 2 可知此 HTTP 訊息會交由 MonthlyMlogsController 控制器處理。</p></div>
</div><div class="code">
  <a name="monthly_mlogs_controller.rb"/><div class="nav" id="monthly_mlogs_controller.rb"><a title="Reverse jump to listing" href="#rev:monthly_mlogs_controller.rb">&equiv;</a><a title="Jump to previous segment" href="#a28143950">&#x25B3;</a><a title="Jump to next segment" href="#a28126590">&#x25BD;</a><a title="Jump to this segment" href="#monthly_mlogs_controller.rb">&#x25CE;</a></div>
  <p class="title">Code 8.&nbsp;&nbsp;monthly<em>mlogs</em>controller.rb</p>
  <p><pre class="code"><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MonthlyMlogsController</span> &lt; <span style="color:#036;font-weight:bold">ApplicationController</span>
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">show</span>
    <span style="color:#33B">@mmlog</span> = current_user.monthly_mlogs.find(params[<span style="color:#A60">:id</span>])
    respond_to <span style="color:#080;font-weight:bold">do</span> |format|
      format.html
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></p>
</div><div class="paragraph">
  <a name="a28126590"/><div class="nav" id="a28126590"><a title="Reverse jump to listing" href="#rev:a28126590">&equiv;</a><a title="Jump to previous segment" href="#monthly_mlogs_controller.rb">&#x25B3;</a><a title="Jump to next segment" href="#a28110720">&#x25BD;</a><a title="Jump to this segment" href="#a28126590">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Rails 的模型是使用 Active Record 設計模式， 透過它可以不用 SQL 語法而是使用物件來存取資料庫， 不需要經過任何連接、宣告， 它會依照類別命名自動會去找尋對應的資料表名稱， 然後直接建立物件函式，簡化資料庫存取。 如 <a class="xref" href="#monthly_mlogs_controller.rb">Code 8. monthly<em>mlogs</em>controller.rb</a> 中， 控制器會呼叫 MonthlyMlog 模型存取資料庫來取得當月的流水帳資料， 存在 @mmlog 變數中傳給視圖使用。 然後傳給視圖為 app/views/monthly<em>mlogs/show.html.erb，</em></p></div>
</div><div class="paragraph">
  <a name="a28110720"/><div class="nav" id="a28110720"><a title="Reverse jump to listing" href="#rev:a28110720">&equiv;</a><a title="Jump to previous segment" href="#a28126590">&#x25B3;</a><a title="Jump to next segment" href="#restful_rails_chapter">&#x25BD;</a><a title="Jump to this segment" href="#a28110720">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>透過模型取得當月的流水帳資料後， 控制器會將流水帳資料放到實例變數內， 再轉成顯示當月流水帳的 html 或 xml 檔案傳給使用者。</p></div>
</div></p></div>
</div></p></div>
</div><div class="chapter">
  <a name="restful_rails_chapter"/><div class="nav" id="restful_rails_chapter"><a title="Reverse jump to listing" href="#rev:restful_rails_chapter">&equiv;</a><a title="Jump to previous segment" href="#a28110720">&#x25B3;</a><a title="Jump to next segment" href="#a28093730">&#x25BD;</a><a title="Jump to this segment" href="#restful_rails_chapter">&#x25CE;</a></div>
  <h1 class="title">
    Chapter&nbsp;5
    <br/>
    <big>RESTful Rails</big>
  </h1>
  <div class="content"><p><div class="paragraph">
  <a name="a28093730"/><div class="nav" id="a28093730"><a title="Reverse jump to listing" href="#rev:a28093730">&equiv;</a><a title="Jump to previous segment" href="#restful_rails_chapter">&#x25B3;</a><a title="Jump to next segment" href="#a28084930">&#x25BD;</a><a title="Jump to this segment" href="#a28093730">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>REST 為 &#8216;Representational State Transfer&#8217; 的縮寫。 它是一個概念、理論基礎和設計原則， 不是協定、工具，更不是標準。 源於 Roy Fielding 博士 2000 年的博士論文。</p></div>
</div><div class="paragraph">
  <a name="a28084930"/><div class="nav" id="a28084930"><a title="Reverse jump to listing" href="#rev:a28084930">&equiv;</a><a title="Jump to previous segment" href="#a28093730">&#x25B3;</a><a title="Jump to next segment" href="#resttriangle_section">&#x25BD;</a><a title="Jump to this segment" href="#a28084930">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>關於 Roy Fielding 博士， Web 設計師可必須要認識這個對 Web 影嚮重大的人物。 他是世上最重要的 Web 伺服器 Apache 主要設計者， 也是 HTTP 協定標準的主要撰寫者， 所以他所提到的 REST 架構， 跟 HTTP 標準有很深厚的關係。</p></div>
</div><div class="section">
  <a name="resttriangle_section"/><div class="nav" id="resttriangle_section"><a title="Reverse jump to listing" href="#rev:resttriangle_section">&equiv;</a><a title="Jump to previous segment" href="#a28084930">&#x25B3;</a><a title="Jump to next segment" href="#resttriangle">&#x25BD;</a><a title="Jump to this segment" href="#resttriangle_section">&#x25CE;</a></div>
  <h2 class="title">
    5.1&nbsp;&nbsp;REST 架構三角形
  </h2>
  <div class="content"><p><div class="figure">
  <a name="resttriangle"/><div class="nav" id="resttriangle"><a title="Reverse jump to listing" href="#rev:resttriangle">&equiv;</a><a title="Jump to previous segment" href="#resttriangle_section">&#x25B3;</a><a title="Jump to next segment" href="#a28064010">&#x25BD;</a><a title="Jump to this segment" href="#resttriangle">&#x25CE;</a></div>
  <p class="title">Figure 7.&nbsp;&nbsp;REST 架構三角形</p>
  <div class="content"><img src='images/resttriangle.png' /></div>
</div><div class="paragraph">
  <a name="a28064010"/><div class="nav" id="a28064010"><a title="Reverse jump to listing" href="#rev:a28064010">&equiv;</a><a title="Jump to previous segment" href="#resttriangle">&#x25B3;</a><a title="Jump to next segment" href="#a28050490">&#x25BD;</a><a title="Jump to this segment" href="#a28064010">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>REST 架構可由<a class="xref" href="#resttriangle">Figure 7. REST 架構三角形</a>來描述。 這個三角形表示 REST 最重要的三個東西名詞(Nouns), 動詞(Verb), 型態(Type)。</p></div>
</div><div class="paragraph">
  <a name="a28050490"/><div class="nav" id="a28050490"><a title="Reverse jump to listing" href="#rev:a28050490">&equiv;</a><a title="Jump to previous segment" href="#a28064010">&#x25B3;</a><a title="Jump to next segment" href="#rest_http_database">&#x25BD;</a><a title="Jump to this segment" href="#a28050490">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>我們說話時，一定要有指認東西的名詞， 名詞可以用來指認你的個人日誌、圖片、音樂或是影片。</p></div>
</div><div class="table">
  <a name="rest_http_database"/><div class="nav" id="rest_http_database"><a title="Reverse jump to listing" href="#rev:rest_http_database">&equiv;</a><a title="Jump to previous segment" href="#a28050490">&#x25B3;</a><a title="Jump to next segment" href="#a28042260">&#x25BD;</a><a title="Jump to this segment" href="#rest_http_database">&#x25CE;</a></div>
  <p class="title">Table 1.&nbsp;&nbsp;REST, HTTP 和資料庫</p>
  <div class="content"><table border="1">
<tr>
<th>REST</th><th>名詞</th><th>動詞</th><th>型態</th>
</tr>
<tr>
<th>資料庫</th><td>主鍵</td><td>CRUD</td><td>Data Type</td>
</tr>
<tr>
<th>HTTP</th><td>URL</td><td>GET,PUT,POST,DELETE</td><td>content/type</td>
</tr>
</table></div>
</div><div class="paragraph">
  <a name="a28042260"/><div class="nav" id="a28042260"><a title="Reverse jump to listing" href="#rev:a28042260">&equiv;</a><a title="Jump to previous segment" href="#rest_http_database">&#x25B3;</a><a title="Jump to next segment" href="#a28039580">&#x25BD;</a><a title="Jump to this segment" href="#a28042260">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>在 REST 中， <em>名詞</em> 用來唯一指認各式各樣的資源(Resource)， 但 <em>REST 限定一個資源只能用一個名詞指認</em> ，</p></div>
</div><div class="paragraph">
  <a name="a28039580"/><div class="nav" id="a28039580"><a title="Reverse jump to listing" href="#rev:a28039580">&equiv;</a><a title="Jump to previous segment" href="#a28042260">&#x25B3;</a><a title="Jump to next segment" href="#a28029100">&#x25BD;</a><a title="Jump to this segment" href="#a28039580">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>由<a class="xref" href="#rest_http_database">Table 1. REST, HTTP 和資料庫</a>可以看到在 HTTP 協定中， 資源就是呈現在讀者面前的網頁， 名詞就是 URL，唯一指認網頁的位置， 所以用超過一個 URL 來指認同一個資源就不符合 REST 的精神。</p></div>
</div><div class="paragraph">
  <a name="a28029100"/><div class="nav" id="a28029100"><a title="Reverse jump to listing" href="#rev:a28029100">&equiv;</a><a title="Jump to previous segment" href="#a28039580">&#x25B3;</a><a title="Jump to next segment" href="#a28013190">&#x25BD;</a><a title="Jump to this segment" href="#a28029100">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>同樣由<a class="xref" href="#rest_http_database">Table 1. REST, HTTP 和資料庫</a>可以看到在資料庫中， 資料庫裡面的資料項目可視為 REST 的資源， 而資料項目的名詞就是該名詞所在資料表的主鍵(Primary Key)， 可用來唯一存取資料項目。</p></div>
</div><div class="paragraph">
  <a name="a28013190"/><div class="nav" id="a28013190"><a title="Reverse jump to listing" href="#rev:a28013190">&equiv;</a><a title="Jump to previous segment" href="#a28029100">&#x25B3;</a><a title="Jump to next segment" href="#a28007690">&#x25BD;</a><a title="Jump to this segment" href="#a28013190">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>在 REST 中 <em>動詞</em> 就是操作資源的方式。 使用過資料庫的人都知道， 盡管 SQL 指令再多， 但對資料庫的每個資料項目做的動作， 都超不出 CRUD 這四個動作， 也就是 Create, Read, Update, Delete 的縮寫。 CRUD 就是資料項目的動詞。</p></div>
</div><div class="paragraph">
  <a name="a28007690"/><div class="nav" id="a28007690"><a title="Reverse jump to listing" href="#rev:a28007690">&equiv;</a><a title="Jump to previous segment" href="#a28013190">&#x25B3;</a><a title="Jump to next segment" href="#a27999150">&#x25BD;</a><a title="Jump to this segment" href="#a28007690">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>再用 HTTP 協定來理解， 我們知道 URL 是名詞，用來指認網頁， 但對網頁的操作在 RFC 2616 定義 HTTP 1.1 一共有 8 個 method， 這些 method 就是 HTTP 的動詞。 雖然 HTTP 定義 8 個 method， 但裡面有 2 個 Method 是您不可能不懂的， 不懂的話，您不會有興趣讀到這裡， 就是 GET, POST， 因為最多人使用的 HTTP Client，也就是 Browser， 只支援 GET 和 POST， 所以大家在寫 Web 時只能使用這 2 個 Method。</p></div>
</div><div class="paragraph">
  <a name="a27999150"/><div class="nav" id="a27999150"><a title="Reverse jump to listing" href="#rev:a27999150">&equiv;</a><a title="Jump to previous segment" href="#a28007690">&#x25B3;</a><a title="Jump to next segment" href="#thegiive_email_png">&#x25BD;</a><a title="Jump to this segment" href="#a27999150">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><em>類型</em> (Type)是什麼呢？資源是代表一個概念， 而類型就是這個資源的表達方式， 我用 thegiive 寫的例子來解釋。</p></div>
</div><div class="figure">
  <a name="thegiive_email_png"/><div class="nav" id="thegiive_email_png"><a title="Reverse jump to listing" href="#rev:thegiive_email_png">&equiv;</a><a title="Jump to previous segment" href="#a27999150">&#x25B3;</a><a title="Jump to next segment" href="#a27989810">&#x25BD;</a><a title="Jump to this segment" href="#thegiive_email_png">&#x25CE;</a></div>
  <p class="title">Figure 8.&nbsp;&nbsp;thegiive 的 email</p>
  <div class="content"><img src='images/thegiive_gmail.png' /></div>
</div><div class="paragraph">
  <a name="a27989810"/><div class="nav" id="a27989810"><a title="Reverse jump to listing" href="#rev:a27989810">&equiv;</a><a title="Jump to previous segment" href="#thegiive_email_png">&#x25B3;</a><a title="Jump to next segment" href="#thegiive_email_xml">&#x25BD;</a><a title="Jump to this segment" href="#a27989810">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><a class="xref" href="#thegiive_email_png">Figure 8. thegiive 的 email</a>是一張 PNG 圖片， 裡面是程式師 thegive 的 Email。 假設 URL 為 http://www.thegiive.net-a.googlepages.com/image.png， 但是如果將這個 PNG 轉檔成為 JPG， URL 就變成了 http://www.thegiive.net-a.googlepages.com/image.jpg。 雖然兩者的 URL 不相同，但是對我們來說， PNG 跟 JPG 這兩張圖其實代表的意義是相同的， 裡面的圖案就是 thegiive 的 Email。 所以，儘管格式不同，但依舊是同一個資源， 而這些格式就是類型。 假設今天有一個 XML file http://www.thegiive.net- a.googlepages.com/image.xml 這個XML檔案裡面記載著 thegiive 的 Email 帳號</p></div>
</div><div class="code">
  <a name="thegiive_email_xml"/><div class="nav" id="thegiive_email_xml"><a title="Reverse jump to listing" href="#rev:thegiive_email_xml">&equiv;</a><a title="Jump to previous segment" href="#a27989810">&#x25B3;</a><a title="Jump to next segment" href="#a27971160">&#x25BD;</a><a title="Jump to this segment" href="#thegiive_email_xml">&#x25CE;</a></div>
  <p class="title">Code 9.&nbsp;&nbsp;thegiive<em>email</em>xml</p>
  <p><pre class="code">&lt;xml&gt;
  &lt;email&gt;thegiive at gmail dot com&lt;<span style="background-color:#fff0ff"><span style="color:#404">/</span><span style="color:#808">email&gt;
&lt;</span><span style="color:#404">/</span><span style="color:#C2C">xm</span></span>l&gt;
</pre></p>
</div><div class="paragraph">
  <a name="a27971160"/><div class="nav" id="a27971160"><a title="Reverse jump to listing" href="#rev:a27971160">&equiv;</a><a title="Jump to previous segment" href="#thegiive_email_xml">&#x25B3;</a><a title="Jump to next segment" href="#REST-和-CRUD">&#x25BD;</a><a title="Jump to this segment" href="#a27971160">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>那麼這個 XML File 跟上面的圖，算是同一個資源嗎？ 是的，雖然 XML 跟 JPG ，PNG 是完全不同的東西， 但是他們都記載同樣的意義，那個意義就是 thegiive 的 Email 帳號， 也就是他們代表同一個資源，但是有著不同的表達格式。</p></div>
</div></p></div>
</div><div class="section">
  <a name="REST-和-CRUD"/><div class="nav" id="REST-和-CRUD"><a title="Reverse jump to listing" href="#rev:REST-和-CRUD">&equiv;</a><a title="Jump to previous segment" href="#a27971160">&#x25B3;</a><a title="Jump to next segment" href="#a27949340">&#x25BD;</a><a title="Jump to this segment" href="#REST-和-CRUD">&#x25CE;</a></div>
  <h2 class="title">
    5.2&nbsp;&nbsp;REST 和 CRUD
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a27949340"/><div class="nav" id="a27949340"><a title="Reverse jump to listing" href="#rev:a27949340">&equiv;</a><a title="Jump to previous segment" href="#REST-和-CRUD">&#x25B3;</a><a title="Jump to next segment" href="#user-find-123">&#x25BD;</a><a title="Jump to this segment" href="#a27949340">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>大部份可以賺錢的應用程式幾乎都涉及到資料的操作， 而最重要的資料操作不外乎 CRUD， 也就是 Create, Read, Update 和 Delete 這 4 個動作的縮寫， 所有的資料操作一定要用這 4 個動作完成。</p></div>
</div><div class="code">
  <a name="user-find-123"/><div class="nav" id="user-find-123"><a title="Reverse jump to listing" href="#rev:user-find-123">&equiv;</a><a title="Jump to previous segment" href="#a27949340">&#x25B3;</a><a title="Jump to next segment" href="#a27941010">&#x25BD;</a><a title="Jump to this segment" href="#user-find-123">&#x25CE;</a></div>
  <p class="title">Code 10.&nbsp;&nbsp;搜尋某個使用者 123 的 URL</p>
  <p><pre class="code">http<span style="color:#A60">:/</span>/localhost:<span style="color:#00D;font-weight:bold">3000</span>/find_user?id=<span style="color:#00D;font-weight:bold">123</span>
<span style="color:#666">#或是</span>
http<span style="color:#A60">:/</span>/localhost:<span style="color:#00D;font-weight:bold">3000</span>/user/find/<span style="color:#00D;font-weight:bold">123</span>
</pre></p>
</div><div class="paragraph">
  <a name="a27941010"/><div class="nav" id="a27941010"><a title="Reverse jump to listing" href="#rev:a27941010">&equiv;</a><a title="Jump to previous segment" href="#user-find-123">&#x25B3;</a><a title="Jump to next segment" href="#User.find-:all">&#x25BD;</a><a title="Jump to this segment" href="#a27941010">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>上述的 URL 通常表示搜尋某個使用者資訊， 傳統的方式會將要做的動作利用不同的 URL 來傳達給 Server， 如<a class="xref" href="#user-find-123">Code 10. 搜尋某個使用者 123 的 URL</a>會把 find 這個動詞加在 URL 裡面， 這樣做也沒什麼不好， 但把部份的 URL 拿來表示動詞， 等於使用 4 個 URL 來表示同一個資源， 違反了 REST 的原則，<em>REST 限定一個資源只能用一個名詞指認</em>。 這樣會使得各個網站也沒有一個固定的介面， 當要在許多網站之間溝通的時候，就會發生很大的麻煩。 但若依照 REST 原則，利用 HTTP 動詞來表示 CRUD， 而 URL 僅扮演名詞的角色，便統一了資源及操作的表示形式。 這使得若有一個已經建立好的使用者資訊群組網站 A。 今天我要做一個購物網站 B，我不需要將 A 中的使用者資料全部複製到 B， 我可以直接從 B 去抓取 A 網站中的資源，A 網站完全不需要做任何的修改， B 網站也不需要特別寫不同的方法 只要讓 B 知道有 A 這個資源可以利用，就可以直接在 B 中進行</p></div>
</div><div class="code">
  <a name="User.find-:all"/><div class="nav" id="User.find-:all"><a title="Reverse jump to listing" href="#rev:User.find-:all">&equiv;</a><a title="Jump to previous segment" href="#a27941010">&#x25B3;</a><a title="Jump to next segment" href="#a27919620">&#x25BD;</a><a title="Jump to this segment" href="#User.find-:all">&#x25CE;</a></div>
  <p class="title">Code 11.&nbsp;&nbsp;User.find :all</p>
  <p><pre class="code"><span style="color:#036;font-weight:bold">User</span>.find <span style="color:#A60">:all</span>
</pre></p>
</div><div class="paragraph">
  <a name="a27919620"/><div class="nav" id="a27919620"><a title="Reverse jump to listing" href="#rev:a27919620">&equiv;</a><a title="Jump to previous segment" href="#User.find-:all">&#x25B3;</a><a title="Jump to next segment" href="#GET-user-123">&#x25BD;</a><a title="Jump to this segment" href="#a27919620">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>之類的操作，而 B 完全不需要有 User 的 Model! 因為他們都照著上述的規格來作， RESTful Rails 網站的遵守一種網站間溝通介面， 以利各網站的溝通，更長遠的目標就是： 一旦多數網站都以 RESTful 的方式設計， 那要基於這些已存在資料去建立新的網站，類似 mashup， 就變成非常容易的一件事情。</p></div>
</div><div class="code">
  <a name="GET-user-123"/><div class="nav" id="GET-user-123"><a title="Reverse jump to listing" href="#rev:GET-user-123">&equiv;</a><a title="Jump to previous segment" href="#a27919620">&#x25B3;</a><a title="Jump to next segment" href="#a27909140">&#x25BD;</a><a title="Jump to this segment" href="#GET-user-123">&#x25CE;</a></div>
  <p class="title">Code 12.&nbsp;&nbsp;GET user/123</p>
  <p><pre class="code"><span style="color:#036;font-weight:bold">GET</span> http<span style="color:#A60">:/</span>/localhost:<span style="color:#00D;font-weight:bold">3000</span>/user/<span style="color:#00D;font-weight:bold">123</span>
</pre></p>
</div><div class="paragraph">
  <a name="a27909140"/><div class="nav" id="a27909140"><a title="Reverse jump to listing" href="#rev:a27909140">&equiv;</a><a title="Jump to previous segment" href="#GET-user-123">&#x25B3;</a><a title="Jump to next segment" href="#PUT-user-123">&#x25BD;</a><a title="Jump to this segment" href="#a27909140">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>RESTful 的 URL 形式常如上述， 由 HTTP 的動詞及 HTTP 的名詞 URL 組成。 上述 URL 就可以解讀為 GET a user which id is 123 from localhost:3000， 也就是從 localhost:3000 上取得(GET)一個 id 是 123 的 user。 <em>http://localhost:3000/user/123</em> 就是一個名詞， 代表著 id 為 123 的 user， 至於是要對這個 user做什麼樣的動作， 就根據 HTTP 的動詞來判斷。</p></div>
</div><div class="code">
  <a name="PUT-user-123"/><div class="nav" id="PUT-user-123"><a title="Reverse jump to listing" href="#rev:PUT-user-123">&equiv;</a><a title="Jump to previous segment" href="#a27909140">&#x25B3;</a><a title="Jump to next segment" href="#a27901830">&#x25BD;</a><a title="Jump to this segment" href="#PUT-user-123">&#x25CE;</a></div>
  <p class="title">Code 13.&nbsp;&nbsp;PUT user/123</p>
  <p><pre class="code"><span style="color:#036;font-weight:bold">PUT</span> http<span style="color:#A60">:/</span>/localhost:<span style="color:#00D;font-weight:bold">3000</span>/user/<span style="color:#00D;font-weight:bold">123</span>
</pre></p>
</div><div class="paragraph">
  <a name="a27901830"/><div class="nav" id="a27901830"><a title="Reverse jump to listing" href="#rev:a27901830">&equiv;</a><a title="Jump to previous segment" href="#PUT-user-123">&#x25B3;</a><a title="Jump to next segment" href="#old-crud-url">&#x25BD;</a><a title="Jump to this segment" href="#a27901830">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>上述的 URL 可以解讀為 PUT a user data to localhost:3000 which id is 123 也就是更新（PUT）一個id是123的user資料到localhost:3000上。</p></div>
</div><div class="table">
  <a name="old-crud-url"/><div class="nav" id="old-crud-url"><a title="Reverse jump to listing" href="#rev:old-crud-url">&equiv;</a><a title="Jump to previous segment" href="#a27901830">&#x25B3;</a><a title="Jump to next segment" href="#a27883530">&#x25BD;</a><a title="Jump to this segment" href="#old-crud-url">&#x25CE;</a></div>
  <p class="title">Table 2.&nbsp;&nbsp;舊有的 CRUD URL</p>
  <div class="content"><table border="1">
<tr>
<th>CREATE</th><td>POST http://abc.com/users/create/</td>
</tr>
<tr>
<th>READ</th><td>GET http://abc.com/user/show/1</td>
</tr>
<tr>
<th>UPDATE</th><td>POST http://abc.com/user/update/1</td>
</tr>
<tr>
<th>DELETE</th><td>GET http://abc.com/user/delete/1</td>
</tr>
</table></div>
</div><div class="paragraph">
  <a name="a27883530"/><div class="nav" id="a27883530"><a title="Reverse jump to listing" href="#rev:a27883530">&equiv;</a><a title="Jump to previous segment" href="#old-crud-url">&#x25B3;</a><a title="Jump to next segment" href="#a27878240">&#x25BD;</a><a title="Jump to this segment" href="#a27883530">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>但由於大部份 Browser 只支援 GET 及 POST 兩個方法， 只能使用 2 個 HTTP 動詞來對應 CRUD， 所以必須用部份的 URL 來表示對這個 users 的操作， 在前版的 Rails 1， 資料項目 users 的 CRUD 操作， 通常會如<a class="xref" href="#old-crud-url">Table 2. 舊有的 CRUD URL</a>所示， Rails 1 的路由系統必須用部份的 URL 來表示對這個 model 的操作， 仍是不符合一個資源只用一個 URL 代表的原則， 但我們知道 HTTP 其實有 8 個動詞， 所以在 Rails 2 除了 GET/POST， 還會加入 PUT/DELETE 這兩個動詞，</p></div>
</div><div class="paragraph">
  <a name="a27878240"/><div class="nav" id="a27878240"><a title="Reverse jump to listing" href="#rev:a27878240">&equiv;</a><a title="Jump to previous segment" href="#a27883530">&#x25B3;</a><a title="Jump to next segment" href="#a27872120">&#x25BD;</a><a title="Jump to this segment" href="#a27878240">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>乍看之下，傳統方式與 RESTful 的網址感覺都很類似， 唯一的差別在於 <em>Rails 2 充分利用了 HTTP 各種動詞</em> 。 以前我們用 SQL 的 SELECT, INSERT, UPDATE, DELETE 對應到 CRUD 的 READ, CREATE, UPDATE, DESTORY， 現在我們再把這個對應關係拓展到 HTTP 的 GET,POST,PUT,DELETE， 其動詞對應如<a class="xref" href="#VerbsTable">Table 3. CRUD, SQL, HTTP, Controller 的動詞對應表</a>。</p></div>
</div><div class="paragraph">
  <a name="a27872120"/><div class="nav" id="a27872120"><a title="Reverse jump to listing" href="#rev:a27872120">&equiv;</a><a title="Jump to previous segment" href="#a27878240">&#x25B3;</a><a title="Jump to next segment" href="#VerbsTable">&#x25BD;</a><a title="Jump to this segment" href="#a27872120">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>這樣一來每個資源擁有自己的識別名詞， 而瀏覽器從單一資源開始瀏覽， 透過標準操作走訪資源， 於是每個物件有自己的 URL， 而且可以容易被快取，複製及書籤化。</p></div>
</div><div class="table">
  <a name="VerbsTable"/><div class="nav" id="VerbsTable"><a title="Reverse jump to listing" href="#rev:VerbsTable">&equiv;</a><a title="Jump to previous segment" href="#a27872120">&#x25B3;</a><a title="Jump to next segment" href="#map.resource">&#x25BD;</a><a title="Jump to this segment" href="#VerbsTable">&#x25CE;</a></div>
  <p class="title">Table 3.&nbsp;&nbsp;CRUD, SQL, HTTP, Controller 的動詞對應表</p>
  <div class="content"><table border="1">
<tr>
<th>CRUD</th><th>SQL</th><th>HTTP</th><th>Controller</th>
</tr>
<tr>
<td>CREATE</td><td>INSERT</td><td>POST</td><td>new/create(P)</td>
</tr>
<tr>
<td>READ</td><td>SELECT</td><td>GET</td><td>show, list(P) </td>
</tr>
<tr>
<td>UPDATE</td><td>UPDATE</td><td>PUT</td><td>edit/update</td>
</tr>
<tr>
<td>DELETE</td><td>DELETE</td><td>DELETE</td><td>destroy</td>
</tr>
</table></div>
</div></p></div>
</div><div class="section">
  <a name="map.resource"/><div class="nav" id="map.resource"><a title="Reverse jump to listing" href="#rev:map.resource">&equiv;</a><a title="Jump to previous segment" href="#VerbsTable">&#x25B3;</a><a title="Jump to next segment" href="#a28500850">&#x25BD;</a><a title="Jump to this segment" href="#map.resource">&#x25CE;</a></div>
  <h2 class="title">
    5.3&nbsp;&nbsp;map.resource
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28500850"/><div class="nav" id="a28500850"><a title="Reverse jump to listing" href="#rev:a28500850">&equiv;</a><a title="Jump to previous segment" href="#map.resource">&#x25B3;</a><a title="Jump to next segment" href="#map.resources-:users">&#x25BD;</a><a title="Jump to this segment" href="#a28500850">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Rails 2 對 REST 的支援就是提供一組工具， 若使用者使用 REST 的命名法則， 則會自動產生一組具名路由。</p></div>
</div><div class="code">
  <a name="map.resources-:users"/><div class="nav" id="map.resources-:users"><a title="Reverse jump to listing" href="#rev:map.resources-:users">&equiv;</a><a title="Jump to previous segment" href="#a28500850">&#x25B3;</a><a title="Jump to next segment" href="#a28487570">&#x25BD;</a><a title="Jump to this segment" href="#map.resources-:users">&#x25CE;</a></div>
  <p class="title">Code 14.&nbsp;&nbsp;map.resources :users</p>
  <p><pre class="code">map.resources <span style="color:#A60">:users</span>
</pre></p>
</div><div class="paragraph">
  <a name="a28487570"/><div class="nav" id="a28487570"><a title="Reverse jump to listing" href="#rev:a28487570">&equiv;</a><a title="Jump to previous segment" href="#map.resources-:users">&#x25B3;</a><a title="Jump to next segment" href="#map.resources-:user">&#x25BD;</a><a title="Jump to this segment" href="#a28487570">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>其中最重要的工具是 map.resources， 語法如<a class="xref" href="#map.resources-:users">Code 14. map.resources :users</a>。 它會接受 1 個符號， 此符號代表資源的名稱， Rails 2 會依照此名稱產生一組符合 REST 的具名路由， 其輔助方法及產出的路由表如<a class="xref" href="#map.resources-:user">Table 4. map.resources :user 產出的路由表</a>。</p></div>
</div><div class="table">
  <a name="map.resources-:user"/><div class="nav" id="map.resources-:user"><a title="Reverse jump to listing" href="#rev:map.resources-:user">&equiv;</a><a title="Jump to previous segment" href="#a28487570">&#x25B3;</a><a title="Jump to next segment" href="#a28454490">&#x25BD;</a><a title="Jump to this segment" href="#map.resources-:user">&#x25CE;</a></div>
  <p class="title">Table 4.&nbsp;&nbsp;map.resources :user 產出的路由表</p>
  <div class="content"><table border="1">
<tr>
<th>輔助方法</th><th>GET</th><th>POST</th><th>PUT</th><th>DELETE</th>
</tr>
<tr>
<td>user_url(@user)</td><td>/users/1 show</td>
<td />
<td>/users/1 update</td><td>/users/1 destroy</td>
</tr>
<tr>
<td>users_url</td><td>/users index</td><td>/users create</td>
<td /><td />
</tr>
<tr>
<td>edit_user_url(@user)</td><td>/users/1/edit edit</td>
<td /><td /><td />
</tr>
<tr>
<td>new_client_url</td><td>/users/new new</td>
<td /><td /><td />
</tr>
</table></div>
</div><div class="paragraph">
  <a name="a28454490"/><div class="nav" id="a28454490"><a title="Reverse jump to listing" href="#rev:a28454490">&equiv;</a><a title="Jump to previous segment" href="#map.resources-:user">&#x25B3;</a><a title="Jump to next segment" href="#a28443700">&#x25BD;</a><a title="Jump to this segment" href="#a28454490">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>用過 Rails 1 的使用者應該知道使用 scaffold generator 會自動產出針對某個 model 的預設 controller， 同時根據 table 的欄位產出 list, show, new, create, edit, update, destroy 等 action 來操作資源， 我們把 controller 視為名詞，而 action 視為動詞， 路由系統會依照 URL 及 HTTP 動詞來決定該 HTTP Request 應由那個 action 處理， 如<a class="xref" href="#map.resources-:user">Table 4. map.resources :user 產出的路由表</a>所示。 最右欄為具名路由的輔助方法，會產出 URL， 同時會依據 HTTP 動詞轉到對應的 action。 如 users<em>url 會產出 /users 的路徑。</em></p></div>
</div><div class="paragraph">
  <a name="a28443700"/><div class="nav" id="a28443700"><a title="Reverse jump to listing" href="#rev:a28443700">&equiv;</a><a title="Jump to previous segment" href="#a28454490">&#x25B3;</a><a title="Jump to next segment" href="#a28437220">&#x25BD;</a><a title="Jump to this segment" href="#a28443700">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>至於 HTTP 動詞的原則如下：</p></div>
</div><div class="paragraph">
  <a name="a28437220"/><div class="nav" id="a28437220"><a title="Reverse jump to listing" href="#rev:a28437220">&equiv;</a><a title="Jump to previous segment" href="#a28443700">&#x25B3;</a><a title="Jump to next segment" href="#a28430450">&#x25BD;</a><a title="Jump to this segment" href="#a28437220">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>未指定 HTTP 動詞則預設為 GET。</p></div>
</div><div class="paragraph">
  <a name="a28430450"/><div class="nav" id="a28430450"><a title="Reverse jump to listing" href="#rev:a28430450">&equiv;</a><a title="Jump to previous segment" href="#a28437220">&#x25B3;</a><a title="Jump to next segment" href="#put-delete-example">&#x25BD;</a><a title="Jump to this segment" href="#a28430450">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>form<em>tag 及 form</em>for 方法動詞則預設為 POST。</p></div>
</div><div class="code">
  <a name="put-delete-example"/><div class="nav" id="put-delete-example"><a title="Reverse jump to listing" href="#rev:put-delete-example">&equiv;</a><a title="Jump to previous segment" href="#a28430450">&#x25B3;</a><a title="Jump to next segment" href="#a28411150">&#x25BD;</a><a title="Jump to this segment" href="#put-delete-example">&#x25CE;</a></div>
  <p class="title">Code 15.&nbsp;&nbsp;put/delete example</p>
  <p><pre class="code">&lt;<span style="background-color:#fff0f0"><span style="color:#710">%=</span><span style="color:#D20"> link_to &quot;Delete this user&quot;,:url </span><span style="color:#710">=</span></span>&gt; user(<span style="color:#33B">@user</span>),
<span style="color:#A60">:method</span> =&gt; <span style="color:#A60">:delete</span> %&gt;

&lt;<span style="background-color:#fff0f0"><span style="color:#710">% </span><span style="color:#D20">form_for</span><span style="color:#710"> </span></span><span style="background-color:#fff0f0"><span style="color:#710">&quot;</span><span style="color:#D20">user</span><span style="color:#710">&quot;</span></span>, <span style="color:#A60">:url</span> =&gt; user(<span style="color:#33B">@auction</span>),
<span style="color:#A60">:html</span> =&gt; { <span style="color:#A60">:method</span> =&gt; <span style="color:#A60">:put</span> } <span style="color:#080;font-weight:bold">do</span> |f| <span style="background-color:#fff0f0"><span style="color:#710">%&gt;</span>
</span></pre></p>
</div><div class="paragraph">
  <a name="a28411150"/><div class="nav" id="a28411150"><a title="Reverse jump to listing" href="#rev:a28411150">&equiv;</a><a title="Jump to previous segment" href="#put-delete-example">&#x25B3;</a><a title="Jump to next segment" href="#a28380140">&#x25BD;</a><a title="Jump to this segment" href="#a28411150">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>PUT/DELETE 則需要用 :method 參數指定， 如<a class="xref" href="#put-delete-example">Code 15. put/delete example</a>。 但這可不是讓 Browser 執行 PUT 及 DELETE ， 而是執行 POST，並加一個隱藏參數 <em>method 來達成。</em></p></div>
</div><div class="paragraph">
  <a name="a28380140"/><div class="nav" id="a28380140"><a title="Reverse jump to listing" href="#rev:a28380140">&equiv;</a><a title="Jump to previous segment" href="#a28411150">&#x25B3;</a><a title="Jump to next segment" href="#a28365700">&#x25BD;</a><a title="Jump to this segment" href="#a28380140">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>從<a class="xref" href="#map.resources-:user">Table 4. map.resources :user 產出的路由表</a>可以知道 Rails 2 的 URL 雖然不會內含名詞， 但是有單複數之分。 單數格式的 URL 通常為 users/:id， 而針對單數資源的動作有以下幾個。 show 為顯示指定 user 的資料、 update 為更新 1 個 user 的資料及 destroy 刪除 1 個 user 的資料。</p></div>
</div><div class="paragraph">
  <a name="a28365700"/><div class="nav" id="a28365700"><a title="Reverse jump to listing" href="#rev:a28365700">&equiv;</a><a title="Jump to previous segment" href="#a28380140">&#x25B3;</a><a title="Jump to next segment" href="#a28345880">&#x25BD;</a><a title="Jump to this segment" href="#a28365700">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>針對複數資源的動作有 list 列出所有使用者資料及建立新的 user 資料。 為什麼建立新 user 資料算複數資源？ 因為建立是針對整個 users 資源加入 1 個新的資源， 故 Rails 2 把它視為 users。</p></div>
</div><div class="paragraph">
  <a name="a28345880"/><div class="nav" id="a28345880"><a title="Reverse jump to listing" href="#rev:a28345880">&equiv;</a><a title="Jump to previous segment" href="#a28365700">&#x25B3;</a><a title="Jump to next segment" href="#a單數資源">&#x25BD;</a><a title="Jump to this segment" href="#a28345880">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>edit 及 new 這 2 個動作為顯示一個輸入表格， 讓使用者輸入要更正的 user 資料及要新增的 user 資料， 因為他不算是 CRUD 四個標準動作， 所以用 2 個輔助方法來產出上述的對應 URL， 輸入 users/1/edit 及 users/new 分別顯示對應的輸入表格。</p></div>
</div></p></div>
</div><div class="section">
  <a name="a單數資源"/><div class="nav" id="a單數資源"><a title="Reverse jump to listing" href="#rev:a單數資源">&equiv;</a><a title="Jump to previous segment" href="#a28345880">&#x25B3;</a><a title="Jump to next segment" href="#a28320490">&#x25BD;</a><a title="Jump to this segment" href="#a單數資源">&#x25CE;</a></div>
  <h2 class="title">
    5.4&nbsp;&nbsp;單數資源
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28320490"/><div class="nav" id="a28320490"><a title="Reverse jump to listing" href="#rev:a28320490">&equiv;</a><a title="Jump to previous segment" href="#a單數資源">&#x25B3;</a><a title="Jump to next segment" href="#MapResourceAddressBook">&#x25BD;</a><a title="Jump to this segment" href="#a28320490">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>單數資源(Singular Resource)指對使用者而言， 資源在整個應用程式只會存在一個， 所以像前述資源的 7 種操作， 關於複數資源的操作就沒有意義。 例如通訊錄，你應該只想要一本通訊錄， 所以一旦你登入系統，只會看到一本通訊錄。 Rails 將這種資源用單數資源來表示。</p></div>
</div><div class="code">
  <a name="MapResourceAddressBook"/><div class="nav" id="MapResourceAddressBook"><a title="Reverse jump to listing" href="#rev:MapResourceAddressBook">&equiv;</a><a title="Jump to previous segment" href="#a28320490">&#x25B3;</a><a title="Jump to next segment" href="#a28306420">&#x25BD;</a><a title="Jump to this segment" href="#MapResourceAddressBook">&#x25CE;</a></div>
  <p class="title">Code 16.&nbsp;&nbsp;map.resource :address<em>book</em></p>
  <p><pre class="code">map.resource <span style="color:#A60">:address_book</span>
</pre></p>
</div><div class="paragraph">
  <a name="a28306420"/><div class="nav" id="a28306420"><a title="Reverse jump to listing" href="#rev:a28306420">&equiv;</a><a title="Jump to previous segment" href="#MapResourceAddressBook">&#x25B3;</a><a title="Jump to next segment" href="#SingularResourceRoutingTable">&#x25BD;</a><a title="Jump to this segment" href="#a28306420">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>單數資源的語法如 <a class="xref" href="#MapResourceAddressBook">Code 16. map.resource :address<em>book</em></a>， 我們route.rb 加入 map.resource :address<em>book 這行， 來表示 address</em>book 是單數資源。</p></div>
</div><div class="table">
  <a name="SingularResourceRoutingTable"/><div class="nav" id="SingularResourceRoutingTable"><a title="Reverse jump to listing" href="#rev:SingularResourceRoutingTable">&equiv;</a><a title="Jump to previous segment" href="#a28306420">&#x25B3;</a><a title="Jump to next segment" href="#a28290900">&#x25BD;</a><a title="Jump to this segment" href="#SingularResourceRoutingTable">&#x25CE;</a></div>
  <p class="title">Table 5.&nbsp;&nbsp;單數資源路由表</p>
  <div class="content"><table border="1">
<tr>
<th>輔助方法</th><th>GET</th><th>POST</th><th>PUT</th><th>DELETE</th>
</tr>
<tr>
<td>address_book_url</td><td>/users/1 show</td>
<td />
<td>/users/1 update</td><td>/users/1 destroy</td>
</tr>
<tr>
<td>edit_user_url(@user)</td><td>/users/1/edit edit</td>
<td /><td /><td />
</tr>
<tr>
<td>new_client_url</td><td>/users/new new</td>
<td /><td /><td />
</tr>
</table></div>
</div><div class="paragraph">
  <a name="a28290900"/><div class="nav" id="a28290900"><a title="Reverse jump to listing" href="#rev:a28290900">&equiv;</a><a title="Jump to previous segment" href="#SingularResourceRoutingTable">&#x25B3;</a><a title="Jump to next segment" href="#nested.resource">&#x25BD;</a><a title="Jump to this segment" href="#a28290900">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>則會產出 REST action 中適用於 singular action， 上例產出 這些操作單數個體的動作。</p></div>
</div></p></div>
</div><div class="section">
  <a name="nested.resource"/><div class="nav" id="nested.resource"><a title="Reverse jump to listing" href="#rev:nested.resource">&equiv;</a><a title="Jump to previous segment" href="#a28290900">&#x25B3;</a><a title="Jump to next segment" href="#a28277670">&#x25BD;</a><a title="Jump to this segment" href="#nested.resource">&#x25CE;</a></div>
  <h2 class="title">
    5.5&nbsp;&nbsp;巢狀資源
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28277670"/><div class="nav" id="a28277670"><a title="Reverse jump to listing" href="#rev:a28277670">&equiv;</a><a title="Jump to previous segment" href="#nested.resource">&#x25B3;</a><a title="Jump to next segment" href="#UsersMlogsMap">&#x25BD;</a><a title="Jump to this segment" href="#a28277670">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>巢狀資源在程式設計中常見到， 通常用來表達某一種資源擁有另一種資源， 像是一個流水帳程式， 一本使用者可以擁有很多流水帳。</p></div>
</div><div class="code">
  <a name="UsersMlogsMap"/><div class="nav" id="UsersMlogsMap"><a title="Reverse jump to listing" href="#rev:UsersMlogsMap">&equiv;</a><a title="Jump to previous segment" href="#a28277670">&#x25B3;</a><a title="Jump to next segment" href="#a28251950">&#x25BD;</a><a title="Jump to this segment" href="#UsersMlogsMap">&#x25CE;</a></div>
  <p class="title">Code 17.&nbsp;&nbsp;map.resources users/mlogs</p>
  <p><pre class="code">map.resources <span style="color:#A60">:users</span> <span style="color:#080;font-weight:bold">do</span> |user|
  user.resources <span style="color:#A60">:mlogs</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></p>
</div><div class="paragraph">
  <a name="a28251950"/><div class="nav" id="a28251950"><a title="Reverse jump to listing" href="#rev:a28251950">&equiv;</a><a title="Jump to previous segment" href="#UsersMlogsMap">&#x25B3;</a><a title="Jump to next segment" href="#UsersMlogsRoutingTable">&#x25BD;</a><a title="Jump to this segment" href="#a28251950">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><a class="xref" href="#UsersMlogsMap">Code 17. map.resources users/mlogs</a>為指定巢狀資源的語法， user 所包含的 mlogs 利用碼塊(block)傳給 map.resources， 這說明 user 包含許多 mlog。</p></div>
</div><div class="table">
  <a name="UsersMlogsRoutingTable"/><div class="nav" id="UsersMlogsRoutingTable"><a title="Reverse jump to listing" href="#rev:UsersMlogsRoutingTable">&equiv;</a><a title="Jump to previous segment" href="#a28251950">&#x25B3;</a><a title="Jump to next segment" href="#a28227410">&#x25BD;</a><a title="Jump to this segment" href="#UsersMlogsRoutingTable">&#x25CE;</a></div>
  <p class="title">Table 6.&nbsp;&nbsp;users/mlogs 的路由表</p>
  <div class="content"><table border="1">
<tr>
<th>輔助方法</th><th>GET</th><th>POST</th><th>PUT</th><th>DELETE</th>
</tr>
<tr>
<td>user_mlog_url(@user, @mlog)</td>
<td>/users/1/mlogs/1 show</td>
<td />
<td>/users/1/mlogs/1 update</td><td>/users/1/mlogs/1 destroy</td>
</tr>
<tr>
<td>user_mlogs_url(@user)</td><td>/users/1/mlogs index</td>
<td>/users/1/mlogs create</td>
<td /><td />
</tr>
<tr>
<td>edit_user_mlog_url(@user, @mlog)</td><td>/users/1/mlogs/1/edit edit</td>
<td /><td /><td />
</tr>
<tr>
<td>new_user_mlog_url(@user)</td><td>/users/1/mlogs/new new</td>
<td /><td /><td />
</tr>
</table></div>
</div><div class="paragraph">
  <a name="a28227410"/><div class="nav" id="a28227410"><a title="Reverse jump to listing" href="#rev:a28227410">&equiv;</a><a title="Jump to previous segment" href="#UsersMlogsRoutingTable">&#x25B3;</a><a title="Jump to next segment" href="#a為程式加入基本的認證功能">&#x25BD;</a><a title="Jump to this segment" href="#a28227410">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><a class="xref" href="#UsersMlogsMap">Code 17. map.resources users/mlogs</a>則會為 users/mlogs 巢狀資源產出 <a class="xref" href="#UsersMlogsRoutingTable">Table 6. users/mlogs 的路由表</a>的路由表。 因為巢狀資源涉及 2 個資源， 所以所有的輔助方法都要加上 user 的參數， 來指定 mlog 資源的擁有者。</p></div>
</div></p></div>
</div></p></div>
</div><div class="chapter">
  <a name="a為程式加入基本的認證功能"/><div class="nav" id="a為程式加入基本的認證功能"><a title="Reverse jump to listing" href="#rev:a為程式加入基本的認證功能">&equiv;</a><a title="Jump to previous segment" href="#a28227410">&#x25B3;</a><a title="Jump to next segment" href="#a28180500">&#x25BD;</a><a title="Jump to this segment" href="#a為程式加入基本的認證功能">&#x25CE;</a></div>
  <h1 class="title">
    Chapter&nbsp;6
    <br/>
    <big>為程式加入基本的認證功能</big>
  </h1>
  <div class="content"><p><div class="paragraph">
  <a name="a28180500"/><div class="nav" id="a28180500"><a title="Reverse jump to listing" href="#rev:a28180500">&equiv;</a><a title="Jump to previous segment" href="#a為程式加入基本的認證功能">&#x25B3;</a><a title="Jump to next segment" href="#a安裝-Restful-Authentication">&#x25BD;</a><a title="Jump to this segment" href="#a28180500">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>幾乎所有的應用系統都需要配備有基本的認證功能， Rails 有一個增益套件稱為 Restful Authentication 可以快速的為系統加入基本的認證功能。 這個套件需要 Rails 的版本高於 1.2。</p></div>
</div><div class="section">
  <a name="a安裝-Restful-Authentication"/><div class="nav" id="a安裝-Restful-Authentication"><a title="Reverse jump to listing" href="#rev:a安裝-Restful-Authentication">&equiv;</a><a title="Jump to previous segment" href="#a28180500">&#x25B3;</a><a title="Jump to next segment" href="#a28162610">&#x25BD;</a><a title="Jump to this segment" href="#a安裝-Restful-Authentication">&#x25CE;</a></div>
  <h2 class="title">
    6.1&nbsp;&nbsp;安裝 Restful Authentication
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28162610"/><div class="nav" id="a28162610"><a title="Reverse jump to listing" href="#rev:a28162610">&equiv;</a><a title="Jump to previous segment" href="#a安裝-Restful-Authentication">&#x25B3;</a><a title="Jump to next segment" href="#command">&#x25BD;</a><a title="Jump to this segment" href="#a28162610">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>首先先使用 plugin 指令來安裝 Restful Authentication 的 plugin。</p></div>
</div><div class="code">
  <a name="command"/><div class="nav" id="command"><a title="Reverse jump to listing" href="#rev:command">&equiv;</a><a title="Jump to previous segment" href="#a28162610">&#x25B3;</a><a title="Jump to next segment" href="#a28129510">&#x25BD;</a><a title="Jump to this segment" href="#command">&#x25CE;</a></div>
  <p class="title">Code 18.&nbsp;&nbsp;command</p>
  <p><pre class="code">ruby script/plugin install http<span style="color:#A60">:/</span>/svn.techno-weenie.net/projects/plugins/restful_authentication 
</pre></p>
</div><div class="paragraph">
  <a name="a28129510"/><div class="nav" id="a28129510"><a title="Reverse jump to listing" href="#rev:a28129510">&equiv;</a><a title="Jump to previous segment" href="#command">&#x25B3;</a><a title="Jump to next segment" href="#command-19">&#x25BD;</a><a title="Jump to this segment" href="#a28129510">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Restful Authentication 也是一種 generator，其基本語法如下：</p></div>
</div><div class="code">
  <a name="command-19"/><div class="nav" id="command-19"><a title="Reverse jump to listing" href="#rev:command-19">&equiv;</a><a title="Jump to previous segment" href="#a28129510">&#x25B3;</a><a title="Jump to next segment" href="#a28108450">&#x25BD;</a><a title="Jump to this segment" href="#command-19">&#x25CE;</a></div>
  <p class="title">Code 19.&nbsp;&nbsp;command</p>
  <p><pre class="code">script/generate authenticated user sessions
</pre></p>
</div><div class="paragraph">
  <a name="a28108450"/><div class="nav" id="a28108450"><a title="Reverse jump to listing" href="#rev:a28108450">&equiv;</a><a title="Jump to previous segment" href="#command-19">&#x25B3;</a><a title="Jump to next segment" href="#a28093990">&#x25BD;</a><a title="Jump to this segment" href="#a28108450">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><em>參數 user</em> 指定帳號主檔的名稱，通常取作 user 或是 account， 當使用者申請新帳號時，會在這裡建立一筆記錄。 此命令會依指定的名稱建立對應的 migration 及 controller， controller 帶有建立新帳號的 create 動作。</p></div>
</div><div class="paragraph">
  <a name="a28093990"/><div class="nav" id="a28093990"><a title="Reverse jump to listing" href="#rev:a28093990">&equiv;</a><a title="Jump to previous segment" href="#a28108450">&#x25B3;</a><a title="Jump to next segment" href="#a28078310">&#x25BD;</a><a title="Jump to this segment" href="#a28093990">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p><em>參數 sessions</em> 指定 session controller 名稱， session controller 處理網站實際的登入及登出功能。</p></div>
</div><div class="paragraph">
  <a name="a28078310"/><div class="nav" id="a28078310"><a title="Reverse jump to listing" href="#rev:a28078310">&equiv;</a><a title="Jump to previous segment" href="#a28093990">&#x25B3;</a><a title="Jump to next segment" href="#ruby">&#x25BD;</a><a title="Jump to this segment" href="#a28078310">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>generate 除了產出基本的程式碼， 還會在 route.rb 加上下列程式碼， 因為我們與 server 的互動上，一次只會有一個 session， 故 session 是一個 Singular resource， 利用 map.resource 產出對應的 Restful 方法。</p></div>
</div><div class="code">
  <a name="ruby"/><div class="nav" id="ruby"><a title="Reverse jump to listing" href="#rev:ruby">&equiv;</a><a title="Jump to previous segment" href="#a28078310">&#x25B3;</a><a title="Jump to next segment" href="#a28056520">&#x25BD;</a><a title="Jump to this segment" href="#ruby">&#x25CE;</a></div>
  <p class="title">Code 20.&nbsp;&nbsp;ruby</p>
  <p><pre class="code">map.resources <span style="color:#A60">:users</span>
map.resource <span style="color:#A60">:session</span>
</pre></p>
</div><div class="paragraph">
  <a name="a28056520"/><div class="nav" id="a28056520"><a title="Reverse jump to listing" href="#rev:a28056520">&equiv;</a><a title="Jump to previous segment" href="#ruby">&#x25B3;</a><a title="Jump to next segment" href="#command-21">&#x25BD;</a><a title="Jump to this segment" href="#a28056520">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>最後執行 migrate 把資料庫升級就 OK了。</p></div>
</div><div class="code">
  <a name="command-21"/><div class="nav" id="command-21"><a title="Reverse jump to listing" href="#rev:command-21">&equiv;</a><a title="Jump to previous segment" href="#a28056520">&#x25B3;</a><a title="Jump to next segment" href="#auth">&#x25BD;</a><a title="Jump to this segment" href="#command-21">&#x25CE;</a></div>
  <p class="title">Code 21.&nbsp;&nbsp;command</p>
  <p><pre class="code">rake db<span style="color:#A60">:migrate</span>
</pre></p>
</div></p></div>
</div><div class="section">
  <a name="auth"/><div class="nav" id="auth"><a title="Reverse jump to listing" href="#rev:auth">&equiv;</a><a title="Jump to previous segment" href="#command-21">&#x25B3;</a><a title="Jump to next segment" href="#a28032870">&#x25BD;</a><a title="Jump to this segment" href="#auth">&#x25CE;</a></div>
  <h2 class="title">
    6.2&nbsp;&nbsp;為程式加入認證功能
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a28032870"/><div class="nav" id="a28032870"><a title="Reverse jump to listing" href="#rev:a28032870">&equiv;</a><a title="Jump to previous segment" href="#auth">&#x25B3;</a><a title="Jump to next segment" href="#restful_authentication_map">&#x25BD;</a><a title="Jump to this segment" href="#a28032870">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Restful Authentication 是以議程的 REST 來實作登入登出， 其功能與 URL 對應架構如<a class="xref" href="#restful_authentication_map">Table 7. 認證功能的 REST 架構</a>所述：</p></div>
</div><div class="table">
  <a name="restful_authentication_map"/><div class="nav" id="restful_authentication_map"><a title="Reverse jump to listing" href="#rev:restful_authentication_map">&equiv;</a><a title="Jump to previous segment" href="#a28032870">&#x25B3;</a><a title="Jump to next segment" href="#a28000150">&#x25BD;</a><a title="Jump to this segment" href="#restful_authentication_map">&#x25CE;</a></div>
  <p class="title">Table 7.&nbsp;&nbsp;認證功能的 REST 架構</p>
  <div class="content"><table border="1">
<tr><td>申請新帳號</td><td>http://localhost:888/users/new</td></tr>
<tr><td>登入</td><td>http://localhost:888/sessions/new</td></tr>
<tr><td>登出</td><td>http://localhost:888/sessions/destroy</td></tr>
</table></div>
</div><div class="paragraph">
  <a name="a28000150"/><div class="nav" id="a28000150"><a title="Reverse jump to listing" href="#rev:a28000150">&equiv;</a><a title="Jump to previous segment" href="#restful_authentication_map">&#x25B3;</a><a title="Jump to next segment" href="#a申請新帳號">&#x25BD;</a><a title="Jump to this segment" href="#a28000150">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>首先我們要申請一個新帳號，URL 輸入 http://localhost:888/users/new 回應使用者一個申請新帳號的表格如下圖，輸入完資料按下 Sign up， 則會回到前一個畫面。</p></div>
</div><div class="figure">
  <a name="a申請新帳號"/><div class="nav" id="a申請新帳號"><a title="Reverse jump to listing" href="#rev:a申請新帳號">&equiv;</a><a title="Jump to previous segment" href="#a28000150">&#x25B3;</a><a title="Jump to next segment" href="#a27979300">&#x25BD;</a><a title="Jump to this segment" href="#a申請新帳號">&#x25CE;</a></div>
  <p class="title">Figure 9.&nbsp;&nbsp;申請新帳號</p>
  <div class="content"><img src='images/signup.jpg' /></div>
</div><div class="paragraph">
  <a name="a27979300"/><div class="nav" id="a27979300"><a title="Reverse jump to listing" href="#rev:a27979300">&equiv;</a><a title="Jump to previous segment" href="#a申請新帳號">&#x25B3;</a><a title="Jump to next segment" href="#ruby-22">&#x25BD;</a><a title="Jump to this segment" href="#a27979300">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>要讓前面的 hello rails 認證後才能看到， 首先加入 include AutheticatedSystem 這行把認證功能加入到 controller， 之後在 before<em>filter 加入這一句 :login</em>required, :only =&gt; <span>:rails</span>， 表示 rails 方法要認證過才可以， 這樣URL輸入 http://localhost:888/hello/rails 時， 會跳到登入，畫面如<a class="xref" href="#login">Figure 10. 登入畫面</a>，輸入完帳號密碼後，登入成功後才會顯示<a class="xref" href="#hello_rails">Figure 5. Hello Rails 畫面</a>， 程式碼如下：</p></div>
</div><div class="code">
  <a name="ruby-22"/><div class="nav" id="ruby-22"><a title="Reverse jump to listing" href="#rev:ruby-22">&equiv;</a><a title="Jump to previous segment" href="#a27979300">&#x25B3;</a><a title="Jump to next segment" href="#login">&#x25BD;</a><a title="Jump to this segment" href="#ruby-22">&#x25CE;</a></div>
  <p class="title">Code 22.&nbsp;&nbsp;ruby</p>
  <p><pre class="code"><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">HelloController</span> &lt; <span style="color:#036;font-weight:bold">ApplicationController</span>
  include <span style="color:#036;font-weight:bold">AuthenticatedSystem</span>
  before_filter <span style="color:#A60">:login_required</span>, <span style="color:#A60">:only</span> =&gt; [<span style="color:#A60">:rails</span>]
  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rails</span>
    ...
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></p>
</div><div class="figure">
  <a name="login"/><div class="nav" id="login"><a title="Reverse jump to listing" href="#rev:login">&equiv;</a><a title="Jump to previous segment" href="#ruby-22">&#x25B3;</a><a title="Jump to next segment" href="#Authenticated-generator-的其它功能">&#x25BD;</a><a title="Jump to this segment" href="#login">&#x25CE;</a></div>
  <p class="title">Figure 10.&nbsp;&nbsp;登入畫面</p>
  <div class="content"><img src='images/login.jpg' /></div>
</div></p></div>
</div><div class="section">
  <a name="Authenticated-generator-的其它功能"/><div class="nav" id="Authenticated-generator-的其它功能"><a title="Reverse jump to listing" href="#rev:Authenticated-generator-的其它功能">&equiv;</a><a title="Jump to previous segment" href="#login">&#x25B3;</a><a title="Jump to next segment" href="#command-23">&#x25BD;</a><a title="Jump to this segment" href="#Authenticated-generator-的其它功能">&#x25CE;</a></div>
  <h2 class="title">
    6.3&nbsp;&nbsp;Authenticated generator 的其它功能
  </h2>
  <div class="content"><p><div class="code">
  <a name="command-23"/><div class="nav" id="command-23"><a title="Reverse jump to listing" href="#rev:command-23">&equiv;</a><a title="Jump to previous segment" href="#Authenticated-generator-的其它功能">&#x25B3;</a><a title="Jump to next segment" href="#a27905930">&#x25BD;</a><a title="Jump to this segment" href="#command-23">&#x25CE;</a></div>
  <p class="title">Code 23.&nbsp;&nbsp;command</p>
  <p><pre class="code">--skip_migration
</pre></p>
</div><div class="paragraph">
  <a name="a27905930"/><div class="nav" id="a27905930"><a title="Reverse jump to listing" href="#rev:a27905930">&equiv;</a><a title="Jump to previous segment" href="#command-23">&#x25B3;</a><a title="Jump to next segment" href="#command-24">&#x25BD;</a><a title="Jump to this segment" href="#a27905930">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>若加入上述選項，則不會建立對應的資料庫遷移。 基本程式產生好後，產生器會在 config/routes.rb 加入以下程式碼。</p></div>
</div><div class="code">
  <a name="command-24"/><div class="nav" id="command-24"><a title="Reverse jump to listing" href="#rev:command-24">&equiv;</a><a title="Jump to previous segment" href="#a27905930">&#x25B3;</a><a title="Jump to next segment" href="#a27888110">&#x25BD;</a><a title="Jump to this segment" href="#command-24">&#x25CE;</a></div>
  <p class="title">Code 24.&nbsp;&nbsp;command</p>
  <p><pre class="code">script/generate authenticated user --include-activation
</pre></p>
</div><div class="paragraph">
  <a name="a27888110"/><div class="nav" id="a27888110"><a title="Reverse jump to listing" href="#rev:a27888110">&equiv;</a><a title="Jump to previous segment" href="#command-24">&#x25B3;</a><a title="Jump to next segment" href="#a利用-Heroku-免費架-Rails-網站">&#x25BD;</a><a title="Jump to this segment" href="#a27888110">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>上述語法會為認證系統加入郵件通知功能。</p></div>
</div></p></div>
</div></p></div>
</div><div class="section">
  <a name="a利用-Heroku-免費架-Rails-網站"/><div class="nav" id="a利用-Heroku-免費架-Rails-網站"><a title="Reverse jump to listing" href="#rev:a利用-Heroku-免費架-Rails-網站">&equiv;</a><a title="Jump to previous segment" href="#a27888110">&#x25B3;</a><a title="Jump to next segment" href="#a27874730">&#x25BD;</a><a title="Jump to this segment" href="#a利用-Heroku-免費架-Rails-網站">&#x25CE;</a></div>
  <h1 class="title">
    7&nbsp;&nbsp;利用 Heroku 免費架 Rails 網站
  </h1>
  <div class="content"><p><div class="paragraph">
  <a name="a27874730"/><div class="nav" id="a27874730"><a title="Reverse jump to listing" href="#rev:a27874730">&equiv;</a><a title="Jump to previous segment" href="#a利用-Heroku-免費架-Rails-網站">&#x25B3;</a><a title="Jump to next segment" href="#a申請-Heroku-帳號">&#x25BD;</a><a title="Jump to this segment" href="#a27874730">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>打從我開始學習寫網站，我就不停的尋找那裡有免費的架站地方。 剛開始我只會寫 HTML，那時 GeoCities 提供了免費空間， 當時放了一些文章上去後，在另一台電腦看到自已的網站， 就覺得好高興。 當開始學會用 FrontPage 作網頁時， 就到處找那裡可支援 FrontPage 計數器引擎的空間， 來看自已的網頁有幾個人看。 過了十年， 開始寫 Web 程式，而 Web 服務又有許多成功的傳奇出現， 像是 Google、EBay、阿里巴巴等等， 吸引很多人開始作夢，夢想自已能在 Web 服務領域上成功。 但是像我這種沒什麼資源的人， 那裡可以讓我的小小點子成真。 前年我開始寫了一個小記帳網站給我老婆記帳， 剛開始是放在朋友讀博士班學校的實驗室內， 但他休學時，居然沒通知我就讓學弟重作他的電腦， 讓我損失約 1 個星期的資料。 GAE(Google App Engine) 出現時， 像我這種 Rubist 都會大喊：「為什麼是 Python 而不是 Rails。」 Google 在雲端計算的名聲讓我一度想放棄研究已久的 Rails 技術， 轉向 Python， 但在尋尋覓覓中，我發現了 heroku， 這個免費提供版本控管，及 Rails 架站的空間， 就是我要介紹給大家的好東西。</p></div>
</div><div class="section">
  <a name="a申請-Heroku-帳號"/><div class="nav" id="a申請-Heroku-帳號"><a title="Reverse jump to listing" href="#rev:a申請-Heroku-帳號">&equiv;</a><a title="Jump to previous segment" href="#a27874730">&#x25B3;</a><a title="Jump to next segment" href="#a27864170">&#x25BD;</a><a title="Jump to this segment" href="#a申請-Heroku-帳號">&#x25CE;</a></div>
  <h2 class="title">
    7.1&nbsp;&nbsp;申請 Heroku 帳號
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a27864170"/><div class="nav" id="a27864170"><a title="Reverse jump to listing" href="#rev:a27864170">&equiv;</a><a title="Jump to previous segment" href="#a申請-Heroku-帳號">&#x25B3;</a><a title="Jump to next segment" href="#Heroku-的功能">&#x25BD;</a><a title="Jump to this segment" href="#a27864170">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"></div>
</div></p></div>
</div><div class="section">
  <a name="Heroku-的功能"/><div class="nav" id="Heroku-的功能"><a title="Reverse jump to listing" href="#rev:Heroku-的功能">&equiv;</a><a title="Jump to previous segment" href="#a27864170">&#x25B3;</a><a title="Jump to next segment" href="#a27857740">&#x25BD;</a><a title="Jump to this segment" href="#Heroku-的功能">&#x25CE;</a></div>
  <h2 class="title">
    7.2&nbsp;&nbsp;Heroku 的功能
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a27857740"/><div class="nav" id="a27857740"><a title="Reverse jump to listing" href="#rev:a27857740">&equiv;</a><a title="Jump to previous segment" href="#Heroku-的功能">&#x25B3;</a><a title="Jump to next segment" href="#a程式的佈署">&#x25BD;</a><a title="Jump to this segment" href="#a27857740">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>Heroku 提供一個可以佈署 Rails 程式的空間， 並提供 PostgreSQL 作為資料庫。 值得注意的是它不提供檔案空間， 你佈署程式的磁碟空間是唯讀的， 所以像是利用 ImageMatick 來產出圖檔及 Gzlib 來壓縮檔案等會利用到磁碟空間的程式便不能使用。 所以任何變動的資料只能存到 PostgreSQL。</p></div>
</div></p></div>
</div> <div class="section">
  <a name="a程式的佈署"/><div class="nav" id="a程式的佈署"><a title="Reverse jump to listing" href="#rev:a程式的佈署">&equiv;</a><a title="Jump to previous segment" href="#a27857740">&#x25B3;</a><a title="Jump to next segment" href="#a27852120">&#x25BD;</a><a title="Jump to this segment" href="#a程式的佈署">&#x25CE;</a></div>
  <h2 class="title">
    7.3&nbsp;&nbsp;程式的佈署
  </h2>
  <div class="content"><p><div class="paragraph">
  <a name="a27852120"/><div class="nav" id="a27852120"><a title="Reverse jump to listing" href="#rev:a27852120">&equiv;</a><a title="Jump to previous segment" href="#a程式的佈署">&#x25B3;</a><a title="Jump to next segment" href="#Heroku-Gem">&#x25BD;</a><a title="Jump to this segment" href="#a27852120">&#x25CE;</a></div>
  <p class="title"></p>
  <div class="content"><p>將程式佈署到 Heroku 的功能，主要是藉由 Git 版控軟體來達成。 當利用 Git 將程式佈署上去， 會先將 config/database.yml 抽換成使用 Heroku 上 PostgreSQL 的設定檔， 然後測式是否能啟動程式， 若不能啟動 Heroku 會拒絕此次佈署。</p></div>
</div></p></div>
</div><div class="section">
  <a name="Heroku-Gem"/><div class="nav" id="Heroku-Gem"><a title="Reverse jump to listing" href="#rev:Heroku-Gem">&equiv;</a><a title="Jump to previous segment" href="#a27852120">&#x25B3;</a><a title="Jump to next segment" href="#a下載-log">&#x25BD;</a><a title="Jump to this segment" href="#Heroku-Gem">&#x25CE;</a></div>
  <h2 class="title">
    7.4&nbsp;&nbsp;Heroku Gem
  </h2>
  <div class="content"></div>
</div><div class="section">
  <a name="a下載-log"/><div class="nav" id="a下載-log"><a title="Reverse jump to listing" href="#rev:a下載-log">&equiv;</a><a title="Jump to previous segment" href="#Heroku-Gem">&#x25B3;</a>&#x25BD;<a title="Jump to this segment" href="#a下載-log">&#x25CE;</a></div>
  <h2 class="title">
    7.5&nbsp;&nbsp;下載 log
  </h2>
  <div class="content"></div>
</div></p></div>
</div></div>


    <br style="display: none"/>
    <hr style="display: none"/>
    <br style="display: none"/>

    
    <div id="footer">
    
      Generated by <a href="http://snk.tuxfamily.org/lib/erbook/">ERBook 6.0.1</a> on Thu Mar 19 12:28:06 +0800 2009.

    <div id="footer-credits">
      <p>
          <img src="&icon_caution;" class="icon" alt="caution"/>
          <img src="&icon_tip;" class="icon" alt="tip"/>
          <img src="&icon_important;" class="icon" alt="important"/>
          <img src="&icon_warning;" class="icon" alt="warning"/>
          <img src="&icon_quote;" class="icon" alt="quote"/>
          <img src="&icon_note;" class="icon" alt="note"/>

        <br/>

        The icons shown above are &copy; 2005 <a href="http://tango.freedesktop.org">Tango Desktop Project</a>. They are part of the <a href="http://tango.freedesktop.org/Tango_Icon_Library">Tango Icon Theme</a> set, which is distributed under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 License Agreement</a>.
      </p>

      <p>
          <img src="&icon_link;" class="icon" alt="link"/>

        <br/>

        The icons shown above are &copy; 2007 <a href="https://www.ohloh.net/projects/mediawiki/contributors">MediaWiki contributors</a>. They are part of the <a href="http://www.mediawiki.org/wiki/MediaWiki">MediaWiki</a> software, which is distributed under the <a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">GNU General Public License, version 2</a>.
      </p>
    </div>
    
    </div>
    
  </div>
  </body>
</html>
