<?xml version="1.0" encoding="big5"?>
<chapter><title>資料庫設計</title>
<sect1><title>關連表異常</title>
<table><title>資料重覆的表格</title> <tgroup cols="4"> <thead>
<row>
<entry>客戶帳號</entry>
<entry>客戶名稱</entry>
<entry>地區編號</entry>
<entry>地區名稱</entry>
</row>
</thead>
<tbody>
<row>
<entry>01</entry>
<entry>台積電</entry>
<entry>2</entry>
<entry>新竹市</entry>
</row>
<row>
<entry>02</entry>
<entry>聯電</entry>
<entry>2</entry>
<entry>新竹市</entry>
</row>
<row>
<entry>03</entry>
<entry>中華電信</entry>
<entry>1</entry>
<entry>台北市</entry>
</row>
<row>
<entry>04</entry>
<entry>成大醫院</entry>
<entry>3</entry>
<entry>台南市</entry>
</row>
</tbody>
<row>
<entry>05</entry>
<entry>台大醫院</entry>
<entry>1</entry>
<entry>台北市</entry>
</row>
</tgroup>
</table>
<para>
上表可看出，地區編號若為 1，則地區名稱一定為台北市，
地區編號若為 2 則地區名稱一定為新竹市，
這樣稱表為<emphasis>資料重覆</emphasis>。
資料重覆會引發幾個異常：
</para>
<itemizedlist>
<listitem><emphasis>刪除異常(Deletion Abnormally)</emphasis>
<para>
若刪除客戶帳戶 04，則失去了台南市及其地區編號為 3 的資訊，
相同的未插入客戶帳戶 04，永遠不會知道台南市及其地區編號為 3。
</para>
</listitem>
<listitem><emphasis>更新異常(Updation Abnormally)</emphasis>
<para>
若更客戶帳戶 05 的地區名稱為新竹市，也要連帶更改其地區編號為 2，
或者想要使新竹市的地區編號為 6 則必須更改客戶帳戶為 01 02 的記錄。
</para>
</listitem>
</itemizedlist>
</sect1>
<sect1><title>無損分解(Lossless Decomposition)</title>
<para>
若關連表 R 分解成 A 及 B 表，若 A,B 能經由關連式運算組成表 R，
則稱 {A, B} 為 R 的<emphasis>無損分解(Lossless
Decomposition)</emphasis>。
</para>
<para>
若將上表分解成以下兩表
</para>
<table><title>有損分解</title>
<tgroup cols="5">
<thead>
<row>
<entry>客戶帳號</entry>
<entry>客戶名稱</entry>
<entry>地區編號</entry>
<entry></entry>
<entry>客戶帳號</entry>
<entry>地區名稱</entry>
</row>
</thead>
<tbody>
<row>
<entry>01</entry>
<entry>台積電</entry>
<entry>2</entry>
<entry></entry>
<entry>01</entry>
<entry>新竹市</entry>
</row>
<row>
<entry>02</entry>
<entry>聯電</entry>
<entry>2</entry>
<entry></entry>
<entry>02</entry>
<entry>新竹市</entry>
</row>
<row>
<entry>03</entry>
<entry>中華電信</entry>
<entry>1</entry>
<entry></entry>
<entry>03</entry>
<entry>台北市</entry>
</row>
<row>
<entry>04</entry>
<entry>成大醫院</entry>
<entry>3</entry>
<entry></entry>
<entry>成大醫院</entry>
<entry>台南市</entry>
</row>
</tbody>
<row>
<entry>05</entry>
<entry>台大醫院</entry>
<entry>1</entry>
<entry></entry>
<entry>05</entry>
<entry>台北市</entry>
</row>
</tgroup>
</table>
</sect1>
<sect1><title>第一正規化</title>
</sect1>
<procedure><title>資料庫再正規化</title>
<step>第一正規化
<substeps>
<step>
將非純量欄位化成新的表格
</step>
<step>
去除重覆群組
</step>
</substeps>
</step>
<step>第二正規化
<substeps>
<step>
去除部份相關
</step>
</substeps>
</step>
<step>第三正規化
<substeps>
<step>
去除部份遞移相關
</step>
</substeps>
</step>
<step>BCNF
<substeps>
<step>
去除因函數相關產生的異常
</step>
</substeps>
</step>
</procedure>
</chapter>
