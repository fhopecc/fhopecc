<%section '實體關係圖轉關聯式表格' do%>
% section '為每個強實體建立一個表格' do
% paragraph do
為每個強實體都建立一個表格，表格名稱為實體名稱。
% end
% paragraph do
把每個簡單屬性加入表格，並設欄位名稱為屬性名稱。
% end
% paragraph do
每個實體的複合屬性不加入表格，
而是把複合屬性的所有組成屬性加入表格，
欄位名稱為組成屬性名稱。
% end
% paragraph do
表格不加入多值屬性、外鍵和導出屬性。
% end
% paragraph do
將表格主鍵設為強實體的識別屬性。
% end
% paragraph do
如<%=xref '96p2-3'%>中的警察人員為強實體，
故轉成一個表格如<%=xref 'police_tab'%>，
並將身份證字號設為表格主鍵。
% end
% end
% section '為每個弱實體建立一個表格' do
% paragraph do
為每個弱實體都建立一個表格，表格名稱為實體名稱。
% end
% paragraph do
把每個簡單屬性加入表格，並設欄位名稱為屬性名稱。
% end
% paragraph do
將擁有者的識別屬性加入至表格，並設為外鍵。 
% end
% paragraph do
擁有者的識別屬性及其本身的部份識別屬性合成表格的主鍵。
% end
% end
% section '為每個多值屬性建一個表格' do
% paragraph do
為多值屬性建一個表格，
表格名稱為實體名稱加上底線，再加上屬性名稱。
% end
% paragraph do
為表格新增參考到實體識別屬性的外鍵，
並將實體的識別屬性加入成為主鍵，
% end
% paragraph do
為表格新增表示屬性本身一個值的欄位，其名稱同屬性名稱。
% end
% paragraph do
設定表格的主鍵為外鍵加上多值屬性。
% end
% paragraph do
如果多值屬性為複合屬性，
可能需要加上其中一個屬性或是全部屬性。
% end
% end
% section '一對多關係的轉換' do
% paragraph do
關係可以在表格新增參考其它實體的外鍵來表示。
一對多關係轉換成表格的規則，如下所示：
% end
% paragraph do
在 N 端的表格新增參考到 1 端表格的外鍵，
若關係擁有簡單屬性，也一併加入新增外鍵的表格。
% end
% end
% section '一對一關係的轉換' do
% paragraph do
一對一關係是一對多關係的特例，
轉換規則如下所示：
% end
% paragraph do
每個參與關係的表格新增參考到參與關係另一個表格的外鍵，
若關係擁有簡單屬性，也一併加入新增外鍵的表格中。
% end
% end
% section '多對多關係的轉換' do
% paragraph do
如<%=xref '97p2-4a'%>所示，
先把多對多關係用關係實體簡化多對多關係為二個一對多關係。
% end
% paragraph do
為關係建立新的表格，名稱為關係名稱。
% end
% paragraph do
為表格加入兩個外鍵，分別參考到參與關係的二個實體。
% end
% paragraph do
若關係具有屬性，
為表格新增表示屬性本身一個值的欄位，其名稱同屬性名稱。
% end
% paragraph do
將表格主鍵設為兩外鍵的組合鍵。
另一個取向是另外為關係建立唯一識別的主鍵，
因為有時兩外鍵的組合鍵無法唯一識別關係實體。
% end
% end
% section '一對多單元關係的轉換' do
% paragraph do
單元關係就是遞迴關係，
其轉換可分為一對多及多對多，
一對多單元關係的轉換規則如下：
% end
% paragraph do
先建立表示參與實體的表格。
% end
% paragraph do
再為表格加入一個外鍵參考到本身實體的主鍵，
且欄位名稱命名為"關係名_id"。
% end
% end
% section '多元關係的轉換' do
% paragraph do
多元關係的轉換規則如下：
% end
% paragraph do
為關係建立表格，名稱是關係的名稱。
% end
% paragraph do
為表格加入外鍵分別參考參與的實體。
% end
% paragraph do
若關係擁有簡單屬性，也一併加入新建立的表格綱要。
% end
% paragraph do
把所有外鍵的組合鍵設為表格主鍵，
另一個取向是另外為關係建立唯一識別的主鍵，
因為有時所有外鍵的組合鍵無法唯一識別關係實體。
% end
% end
% section '繼承關係的轉換' do
% paragraph do
繼承關係則是在子型態的表格中加入指向超型態實體表格的外鍵。
% end
% paragraph do
RoR 的 ActiveRecord 則是採用型態欄位來辨識。
% end
% end
<%end%>
